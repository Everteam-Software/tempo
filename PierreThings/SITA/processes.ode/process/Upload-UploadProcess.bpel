<?xml version="1.0" encoding="UTF-8"?>
<bpel:process xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable" xmlns:vprop="http://docs.oasis-open.org/wsbpel/2.0/varprop" xmlns:pnlk="http://docs.oasis-open.org/wsbpel/2.0/plnktype" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ode="http://www.apache.org/ode/type/extension" xmlns:TokenService="http://example.com/process/Upload/TokenService" xmlns:tns="http://www.example.org/UploadResponse" xmlns:TaskManagementSystem="http://www.intalio.com/BPMS/Workflow/TaskManagementServices-20051109/" xmlns:as="http://www.example.org/assignment" xmlns:AppearNetworks="http://example.com/process/Upload/AppearNetworks" xmlns:TokenService1="http://tempo.intalio.org/security/tokenService/" xmlns:DB="http://example.com/process/Upload/DB" xmlns:countExistingTAs="urn:intalio.com:connectors:database:sita:countexistingtasservice" xmlns:diag="http://example.com/process/Upload" xmlns:TMP="http://example.com/process/Upload/TMP" xmlns:p="http://www.example.org/prop" xmlns:TMS="http://example.com/process/Upload/TMS" xmlns:hil="http://www.example.org/hil" xmlns:fmr="http://www.example.org/fmr" xmlns:SITAservice="http://example.com/process/Upload/SITAservice" xmlns:b4p="http://www.intalio.com/bpms/workflow/ib4p_20051115" xmlns:TAdata="http://www.intalio.com/gi/forms/TAmanagement.gi" xmlns:this="http://example.com/process/Upload/UploadProcess" xmlns:SITAservice1="http://www.example.org/FMRupload" xmlns:xml="http://www.w3.org/XML/1998/namespace" xmlns:bpmn="http://www.intalio.com/bpms" xmlns:atomic="http://ode.apache.org/atomicScope" queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0" bpmn:label="UploadProcess" name="UploadProcess" bpmn:id="_VbNFwD7SEd6K2cgYiBoOqg" targetNamespace="http://example.com/process/Upload/UploadProcess">
  <bpel:import namespace="http://tempo.intalio.org/security/tokenService/" location="../services/TokenService.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"/>
  <bpel:import namespace="http://example.com/process/Upload" location="Upload.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"/>
  <bpel:import namespace="http://example.com/process/Upload/UploadProcess" location="Upload-UploadProcess.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"/>
  <bpel:import namespace="http://www.intalio.com/BPMS/Workflow/TaskManagementServices-20051109/" location="../services/TaskManagementSystem.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"/>
  <bpel:import namespace="http://www.intalio.com/bpms/workflow/ib4p_20051115" location="../services/TaskManagerProcess.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"/>
  <bpel:import namespace="http://www.intalio.com/gi/forms/TAmanagement.gi" location="../services/SITAservice.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"/>
  <bpel:import namespace="urn:intalio.com:connectors:database:sita:countexistingtasservice" location="../database/countExistingTAs.sql/countExistingTAs.sql.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"/>
  <bpel:partnerLinks>
    <bpel:partnerLink name="uploadProcessAndAppearNetworksPlkVar" partnerLinkType="diag:UploadProcessAndAppearNetworks" myRole="UploadProcess_for_AppearNetworks"/>
    <bpel:partnerLink name="uploadProcessAndSITAserviceForSITAservicePortPlkVar" partnerLinkType="diag:UploadProcessAndSITAserviceForSITAservicePortPlk" initializePartnerRole="yes" partnerRole="SITAservice_for_UploadProcess"/>
    <bpel:partnerLink name="uploadProcessAndTokenServiceForTokenServiceHttpportPlkVar" partnerLinkType="diag:UploadProcessAndTokenServiceForTokenServiceHttpportPlk" initializePartnerRole="yes" partnerRole="TokenService_for_UploadProcess"/>
    <bpel:partnerLink name="uploadProcessAndTMPForUserBusinessProcessPortPlkVar" partnerLinkType="diag:UploadProcessAndTMPForUserBusinessProcessPortPlk" initializePartnerRole="yes" partnerRole="TMP_for_UploadProcess"/>
    <bpel:partnerLink name="tMsAndUploadProcessForPortTaskManagementServicesSOAPPlkVar" partnerLinkType="diag:TMsAndUploadProcessForPortTaskManagementServicesSOAPPlk" initializePartnerRole="yes" partnerRole="TMS_for_UploadProcess"/>
    <bpel:partnerLink name="dbAndUploadProcessForCountExistingTAsPortPlkVar" partnerLinkType="diag:DbAndUploadProcessForCountExistingTAsPortPlk" initializePartnerRole="yes" partnerRole="DB_for_UploadProcess"/>
  </bpel:partnerLinks>
  <bpel:variables>
    <bpel:variable name="thisUploadFMRRequestMsg" messageType="this:uploadFMRRequest"/>
    <bpel:variable name="thisUploadHILRequestMsg" messageType="this:uploadHILRequest"/>
    <bpel:variable name="thisUploadHILResponseMsg" messageType="this:uploadHILResponse"/>
    <bpel:variable name="b4pCreateTaskRequestMsg" messageType="b4p:createTaskRequest"/>
    <bpel:variable name="b4pCreateTaskResponseMsg" messageType="b4p:createTaskResponse"/>
    <bpel:variable name="taskManagementSystemSetOutputRequestMsg" messageType="TaskManagementSystem:setOutputRequest"/>
    <bpel:variable name="taskManagementSystemSetOutputResponseMsg" messageType="TaskManagementSystem:okResponse"/>
    <bpel:variable name="tAdataInputMessage" messageType="TAdata:updateTArequest"/>
    <bpel:variable name="tAdataOuputMessage" messageType="TAdata:updateTAresponse"/>
    <bpel:variable name="shiftInput" messageType="TAdata:getRolesRequest"/>
    <bpel:variable name="shiftOutput" messageType="TAdata:getRolesResponse"/>
    <bpel:variable name="tokenService1AuthenticateUserRequestMsg" messageType="TokenService1:authenticateUser"/>
    <bpel:variable name="tokenService1AuthenticateUserResponseMsg" messageType="TokenService1:authenticateUserResponse"/>
    <bpel:variable name="taskManagementSystemReassignRequestMsg" messageType="TaskManagementSystem:reassignRequest"/>
    <bpel:variable name="taskManagementSystemReassignResponseMsg" messageType="TaskManagementSystem:okResponse"/>
    <bpel:variable name="thisUploadFMRResponseMsg" messageType="this:uploadFMRResponse"/>
    <bpel:variable name="taskManagementSystemGetAvailableTasksWithInputOutputRequestMsg" messageType="TaskManagementSystem:getAvailableTasksWithInputOutputRequest"/>
    <bpel:variable name="taskManagementSystemGetAvailableTasksWithInputOutputResponseMsg" messageType="TaskManagementSystem:getAvailableTasksWithInputOutputResponse"/>
    <bpel:variable name="countExistingTAsCountExistingTAsRequestMsg" messageType="countExistingTAs:countExistingTAsInput"/>
    <bpel:variable name="countExistingTAsCountExistingTAsResponseMsg" messageType="countExistingTAs:countExistingTAsOutput"/>
  </bpel:variables>
  <bpel:pick createInstance="yes" bpmn:label="Exclusive_Event-Based_Gateway" name="Exclusive_Event-Based_Gateway" bpmn:id="_aGdT8D7SEd6K2cgYiBoOqg">
    <bpel:onMessage partnerLink="uploadProcessAndAppearNetworksPlkVar" portType="this:ForAppearNetworks" operation="uploadFMR" variable="thisUploadFMRRequestMsg" bpmn:label="uploadFMR" name="uploadFMR" bpmn:id="_bbQjsD7SEd6K2cgYiBoOqg">
      <bpel:sequence>
        <bpel:assign name="init-variables-UploadProcess" bpmn:id="_VbNFwD7SEd6K2cgYiBoOqg">
          <bpel:copy bpmn:label="$thisUploadHILResponseMsg">
            <bpel:from>
              <bpel:literal>
<tns:uploadReponse>
  <tns:reponseMsg></tns:reponseMsg>
</tns:uploadReponse></bpel:literal>
            </bpel:from>
            <bpel:to>$thisUploadHILResponseMsg.body</bpel:to>
          </bpel:copy>
          <bpel:copy bpmn:label="$b4pCreateTaskRequestMsg">
            <bpel:from>
              <bpel:literal>
<b4p:createTaskRequest>
  <b4p:taskMetaData>
    <b4p:taskId></b4p:taskId>
    <b4p:taskState></b4p:taskState>
    <b4p:taskType></b4p:taskType>
    <b4p:description></b4p:description>
    <b4p:processId></b4p:processId>
    <b4p:instanceId></b4p:instanceId>
    <b4p:creationDate></b4p:creationDate>
    <b4p:userOwner></b4p:userOwner>
    <b4p:roleOwner></b4p:roleOwner>
    <b4p:claimAction>
      <b4p:user></b4p:user>
      <b4p:role></b4p:role>
    </b4p:claimAction>
    <b4p:revokeAction>
      <b4p:user></b4p:user>
      <b4p:role></b4p:role>
    </b4p:revokeAction>
    <b4p:saveAction>
      <b4p:user></b4p:user>
      <b4p:role></b4p:role>
    </b4p:saveAction>
    <b4p:dismissAction>
      <b4p:user></b4p:user>
      <b4p:role></b4p:role>
    </b4p:dismissAction>
    <b4p:completeAction>
      <b4p:user></b4p:user>
      <b4p:role></b4p:role>
    </b4p:completeAction>
    <b4p:deferAction>
      <b4p:user></b4p:user>
      <b4p:role></b4p:role>
    </b4p:deferAction>
    <b4p:formUrl></b4p:formUrl>
    <b4p:failureCode></b4p:failureCode>
    <b4p:failureReason></b4p:failureReason>
    <b4p:priority></b4p:priority>
    <b4p:scheduledActions>
      <b4p:expiration>
        <b4p:until></b4p:until>
        <b4p:for></b4p:for>
      </b4p:expiration>
      <b4p:deferActivation>
        <b4p:until></b4p:until>
        <b4p:for></b4p:for>
      </b4p:deferActivation>
    </b4p:scheduledActions>
    <b4p:userEndpoint></b4p:userEndpoint>
    <b4p:userProcessEndpoint></b4p:userProcessEndpoint>
    <b4p:userProcessNamespaceURI></b4p:userProcessNamespaceURI>
    <b4p:userProcessCompleteSOAPAction></b4p:userProcessCompleteSOAPAction>
    <b4p:isChainedBefore></b4p:isChainedBefore>
    <b4p:previousTaskId></b4p:previousTaskId>
    <b4p:nextTaskId></b4p:nextTaskId>
    <b4p:session></b4p:session>
    <b4p:nextTaskURL></b4p:nextTaskURL>
    <b4p:attachments>
      <attachment>
        <attachmentMetadata>
          <mimeType></mimeType>
          <fileName></fileName>
          <title></title>
          <description></description>
          <creationDate></creationDate>
        </attachmentMetadata>
        <payloadUrl></payloadUrl>
      </attachment>
    </b4p:attachments>
  </b4p:taskMetaData>
  <b4p:participantToken></b4p:participantToken>
  <b4p:taskInput></b4p:taskInput>
</b4p:createTaskRequest></bpel:literal>
            </bpel:from>
            <bpel:to>$b4pCreateTaskRequestMsg.root</bpel:to>
          </bpel:copy>
          <bpel:copy bpmn:label="$taskManagementSystemSetOutputRequestMsg">
            <bpel:from>
              <bpel:literal>
<TaskManagementSystem:setOutputRequest>
  <TaskManagementSystem:taskId></TaskManagementSystem:taskId>
  <TaskManagementSystem:data>
    <TAdata:Activity>
      <TAdata:AircraftID></TAdata:AircraftID>
      <TAdata:startTime></TAdata:startTime>
      <TAdata:finishTime></TAdata:finishTime>
      <TAdata:releaseTime></TAdata:releaseTime>
      <TAdata:late></TAdata:late>
      <TAdata:update></TAdata:update>
    </TAdata:Activity>
    <TAdata:ArrivalDeparture>
      <TAdata:ScheduledArrivalDate></TAdata:ScheduledArrivalDate>
      <TAdata:STA></TAdata:STA>
      <TAdata:ScheduledDepartureDate></TAdata:ScheduledDepartureDate>
      <TAdata:STD></TAdata:STD>
      <TAdata:EstimatedArrivalDate></TAdata:EstimatedArrivalDate>
      <TAdata:ETA></TAdata:ETA>
      <TAdata:EstimatedDepartureDate></TAdata:EstimatedDepartureDate>
      <TAdata:ETD></TAdata:ETD>
      <TAdata:ActualArrivalDate></TAdata:ActualArrivalDate>
      <TAdata:ATA></TAdata:ATA>
      <TAdata:ActualDepartureDate></TAdata:ActualDepartureDate>
      <TAdata:ATD></TAdata:ATD>
      <TAdata:ArrivalFlightNumber></TAdata:ArrivalFlightNumber>
      <TAdata:DepartureFlightNumber></TAdata:DepartureFlightNumber>
    </TAdata:ArrivalDeparture>
    <TAdata:Inspection>
      <TAdata:assigned></TAdata:assigned>
      <TAdata:Stand></TAdata:Stand>
      <TAdata:InspectionType></TAdata:InspectionType>
      <TAdata:InspectionStatus></TAdata:InspectionStatus>
      <TAdata:resources></TAdata:resources>
      <TAdata:RTR>
        <TAdata:RTRid></TAdata:RTRid>
        <TAdata:RTRdescription></TAdata:RTRdescription>
        <TAdata:RTRstatus></TAdata:RTRstatus>
        <TAdata:RTRad></TAdata:RTRad>
      </TAdata:RTR>
      <TAdata:assignedCoord>
        <TAdata:assignedCoordName></TAdata:assignedCoordName>
        <TAdata:assignedCoordID></TAdata:assignedCoordID>
        <TAdata:assignedCoordCert></TAdata:assignedCoordCert>
      </TAdata:assignedCoord>
      <TAdata:assignedMechanics>
        <TAdata:assignedMechanicName></TAdata:assignedMechanicName>
        <TAdata:assignedMechanicID></TAdata:assignedMechanicID>
        <TAdata:assignedMechanicCert></TAdata:assignedMechanicCert>
        <TAdata:entitledToRelease>false</TAdata:entitledToRelease>
      </TAdata:assignedMechanics>
      <TAdata:assignedAvionics>
        <TAdata:assignedAvionicName></TAdata:assignedAvionicName>
        <TAdata:assignedAvionicID></TAdata:assignedAvionicID>
        <TAdata:assignedAvionicCert></TAdata:assignedAvionicCert>
      </TAdata:assignedAvionics>
    </TAdata:Inspection>
    <TAdata:HIL>
      <TAdata:TAHIL>
        <TAdata:TAHILid></TAdata:TAHILid>
        <TAdata:TAHILtype></TAdata:TAHILtype>
        <TAdata:TAHILopeningDate></TAdata:TAHILopeningDate>
        <TAdata:TAHILCL></TAdata:TAHILCL>
        <TAdata:TAHILlimitDate></TAdata:TAHILlimitDate>
        <TAdata:TAHILclosingDate></TAdata:TAHILclosingDate>
        <TAdata:TAHILATA100></TAdata:TAHILATA100>
        <TAdata:TAHILdescription></TAdata:TAHILdescription>
        <TAdata:TAHILstatus></TAdata:TAHILstatus>
        <TAdata:TAHILpartNr></TAdata:TAHILpartNr>
        <TAdata:TAHILcomments></TAdata:TAHILcomments>
      </TAdata:TAHIL>
    </TAdata:HIL>
    <TAdata:DC>
      <TAdata:ExpectedStartTime></TAdata:ExpectedStartTime>
      <TAdata:ExpectedFinishTime></TAdata:ExpectedFinishTime>
      <TAdata:ExpectedReleaseTime></TAdata:ExpectedReleaseTime>
      <TAdata:CompassInspectionType></TAdata:CompassInspectionType>
      <TAdata:Comments></TAdata:Comments>
    </TAdata:DC>
  </TaskManagementSystem:data>
  <TaskManagementSystem:participantToken></TaskManagementSystem:participantToken>
</TaskManagementSystem:setOutputRequest></bpel:literal>
            </bpel:from>
            <bpel:to>$taskManagementSystemSetOutputRequestMsg.setOutputRequest</bpel:to>
          </bpel:copy>
          <bpel:copy bpmn:label="$tAdataInputMessage">
            <bpel:from>
              <bpel:literal>
<TAdata:updateInput>
  <FMR ATA="" ATD="" Aircraft="" ArrivalFlightNumber="" CreationTime="" DepartureFlightNumber="" InspectionType="" Rtr-id="" STA="" STD="" Stand=""></FMR>
  <TAdata:data>
    <TAdata:FormModel>
      <TAdata:Activity>
        <TAdata:AircraftID></TAdata:AircraftID>
        <TAdata:startTime></TAdata:startTime>
        <TAdata:finishTime></TAdata:finishTime>
        <TAdata:releaseTime></TAdata:releaseTime>
        <TAdata:late></TAdata:late>
        <TAdata:update></TAdata:update>
      </TAdata:Activity>
      <TAdata:ArrivalDeparture>
        <TAdata:ScheduledArrivalDate></TAdata:ScheduledArrivalDate>
        <TAdata:STA></TAdata:STA>
        <TAdata:ScheduledDepartureDate></TAdata:ScheduledDepartureDate>
        <TAdata:STD></TAdata:STD>
        <TAdata:EstimatedArrivalDate></TAdata:EstimatedArrivalDate>
        <TAdata:ETA></TAdata:ETA>
        <TAdata:EstimatedDepartureDate></TAdata:EstimatedDepartureDate>
        <TAdata:ETD></TAdata:ETD>
        <TAdata:ActualArrivalDate></TAdata:ActualArrivalDate>
        <TAdata:ATA></TAdata:ATA>
        <TAdata:ActualDepartureDate></TAdata:ActualDepartureDate>
        <TAdata:ATD></TAdata:ATD>
        <TAdata:ArrivalFlightNumber></TAdata:ArrivalFlightNumber>
        <TAdata:DepartureFlightNumber></TAdata:DepartureFlightNumber>
      </TAdata:ArrivalDeparture>
      <TAdata:Inspection>
        <TAdata:assigned></TAdata:assigned>
        <TAdata:Stand></TAdata:Stand>
        <TAdata:InspectionType></TAdata:InspectionType>
        <TAdata:InspectionStatus></TAdata:InspectionStatus>
        <TAdata:resources></TAdata:resources>
        <TAdata:RTR>
          <TAdata:RTRid></TAdata:RTRid>
          <TAdata:RTRdescription></TAdata:RTRdescription>
          <TAdata:RTRstatus></TAdata:RTRstatus>
          <TAdata:RTRad></TAdata:RTRad>
        </TAdata:RTR>
        <TAdata:assignedCoord>
          <TAdata:assignedCoordName></TAdata:assignedCoordName>
          <TAdata:assignedCoordID></TAdata:assignedCoordID>
          <TAdata:assignedCoordCert></TAdata:assignedCoordCert>
        </TAdata:assignedCoord>
        <TAdata:assignedMechanics>
          <TAdata:assignedMechanicName></TAdata:assignedMechanicName>
          <TAdata:assignedMechanicID></TAdata:assignedMechanicID>
          <TAdata:assignedMechanicCert></TAdata:assignedMechanicCert>
          <TAdata:entitledToRelease>false</TAdata:entitledToRelease>
        </TAdata:assignedMechanics>
        <TAdata:assignedAvionics>
          <TAdata:assignedAvionicName></TAdata:assignedAvionicName>
          <TAdata:assignedAvionicID></TAdata:assignedAvionicID>
          <TAdata:assignedAvionicCert></TAdata:assignedAvionicCert>
        </TAdata:assignedAvionics>
      </TAdata:Inspection>
      <TAdata:HIL>
        <TAdata:TAHIL>
          <TAdata:TAHILid></TAdata:TAHILid>
          <TAdata:TAHILtype></TAdata:TAHILtype>
          <TAdata:TAHILopeningDate></TAdata:TAHILopeningDate>
          <TAdata:TAHILCL></TAdata:TAHILCL>
          <TAdata:TAHILlimitDate></TAdata:TAHILlimitDate>
          <TAdata:TAHILclosingDate></TAdata:TAHILclosingDate>
          <TAdata:TAHILATA100></TAdata:TAHILATA100>
          <TAdata:TAHILdescription></TAdata:TAHILdescription>
          <TAdata:TAHILstatus></TAdata:TAHILstatus>
          <TAdata:TAHILpartNr></TAdata:TAHILpartNr>
          <TAdata:TAHILcomments></TAdata:TAHILcomments>
        </TAdata:TAHIL>
      </TAdata:HIL>
      <TAdata:DC>
        <TAdata:ExpectedStartTime></TAdata:ExpectedStartTime>
        <TAdata:ExpectedFinishTime></TAdata:ExpectedFinishTime>
        <TAdata:ExpectedReleaseTime></TAdata:ExpectedReleaseTime>
        <TAdata:CompassInspectionType></TAdata:CompassInspectionType>
        <TAdata:Comments></TAdata:Comments>
      </TAdata:DC>
    </TAdata:FormModel>
  </TAdata:data>
</TAdata:updateInput></bpel:literal>
            </bpel:from>
            <bpel:to>$tAdataInputMessage.body</bpel:to>
          </bpel:copy>
          <bpel:copy bpmn:label="$shiftInput">
            <bpel:from>
              <bpel:literal>
<TAdata:TAdates>
  <startDateTime></startDateTime>
  <endDateTime></endDateTime>
</TAdata:TAdates></bpel:literal>
            </bpel:from>
            <bpel:to>$shiftInput.body</bpel:to>
          </bpel:copy>
          <bpel:copy bpmn:label="$tokenService1AuthenticateUserRequestMsg">
            <bpel:from>
              <bpel:literal>
<TokenService1:authenticateUser>
  <TokenService1:user></TokenService1:user>
  <TokenService1:password></TokenService1:password>
</TokenService1:authenticateUser></bpel:literal>
            </bpel:from>
            <bpel:to>$tokenService1AuthenticateUserRequestMsg.payload</bpel:to>
          </bpel:copy>
          <bpel:copy bpmn:label="$taskManagementSystemReassignRequestMsg">
            <bpel:from>
              <bpel:literal>
<TaskManagementSystem:reassignRequest>
  <TaskManagementSystem:taskId></TaskManagementSystem:taskId>
  <TaskManagementSystem:userOwner></TaskManagementSystem:userOwner>
  <TaskManagementSystem:roleOwner></TaskManagementSystem:roleOwner>
  <TaskManagementSystem:taskState></TaskManagementSystem:taskState>
  <TaskManagementSystem:participantToken></TaskManagementSystem:participantToken>
</TaskManagementSystem:reassignRequest></bpel:literal>
            </bpel:from>
            <bpel:to>$taskManagementSystemReassignRequestMsg.reassignRequest</bpel:to>
          </bpel:copy>
          <bpel:copy bpmn:label="$thisUploadFMRResponseMsg">
            <bpel:from>
              <bpel:literal>
<tns:uploadReponse>
  <tns:reponseMsg></tns:reponseMsg>
</tns:uploadReponse></bpel:literal>
            </bpel:from>
            <bpel:to>$thisUploadFMRResponseMsg.body</bpel:to>
          </bpel:copy>
          <bpel:copy bpmn:label="$taskManagementSystemGetAvailableTasksWithInputOutputRequestMsg">
            <bpel:from>
              <bpel:literal>
<TaskManagementSystem:getAvailableTasksWithInputOutputRequest>
  <TaskManagementSystem:participantToken></TaskManagementSystem:participantToken>
  <TaskManagementSystem:taskType></TaskManagementSystem:taskType>
  <TaskManagementSystem:subQuery></TaskManagementSystem:subQuery>
  <TaskManagementSystem:filter></TaskManagementSystem:filter>
  <TaskManagementSystem:first></TaskManagementSystem:first>
  <TaskManagementSystem:max></TaskManagementSystem:max>
</TaskManagementSystem:getAvailableTasksWithInputOutputRequest></bpel:literal>
            </bpel:from>
            <bpel:to>$taskManagementSystemGetAvailableTasksWithInputOutputRequestMsg.getAvailableTasksWithInputOutputRequest</bpel:to>
          </bpel:copy>
          <bpel:copy bpmn:label="$countExistingTAsCountExistingTAsRequestMsg">
            <bpel:from>
              <bpel:literal>
<countExistingTAs:countExistingTAsParameterSet>
  <countExistingTAs:connection>
    <countExistingTAs:user></countExistingTAs:user>
    <countExistingTAs:password></countExistingTAs:password>
  </countExistingTAs:connection>
  <countExistingTAs:execute>
    <countExistingTAs:parameters>
      <countExistingTAs:like></countExistingTAs:like>
    </countExistingTAs:parameters>
  </countExistingTAs:execute>
</countExistingTAs:countExistingTAsParameterSet></bpel:literal>
            </bpel:from>
            <bpel:to>$countExistingTAsCountExistingTAsRequestMsg.parameters</bpel:to>
          </bpel:copy>
        </bpel:assign>
        <bpel:assign bpmn:label="Convert  dates to local time" name="Convert__dates_to_local_time" bpmn:id="_Io02kGwQEd66f4iq3wYOag">
          <bpel:copy ignoreUninitializedFromVariable="yes" ignoreMissingFromData="yes">
            <bpel:from>adjust-dateTime-to-timezone(xs:dateTime($thisUploadFMRRequestMsg.body/@ATA)) + xs:dayTimeDuration ("PT1H")</bpel:from>
            <bpel:to>$thisUploadFMRRequestMsg.body/@ATA</bpel:to>
          </bpel:copy>
          <bpel:copy ignoreUninitializedFromVariable="yes" ignoreMissingFromData="yes">
            <bpel:from>adjust-dateTime-to-timezone(xs:dateTime($thisUploadFMRRequestMsg.body/@ATD)) + xs:dayTimeDuration ("PT1H")</bpel:from>
            <bpel:to>$thisUploadFMRRequestMsg.body/@ATD</bpel:to>
          </bpel:copy>
          <bpel:copy ignoreUninitializedFromVariable="yes" ignoreMissingFromData="yes">
            <bpel:from>adjust-dateTime-to-timezone(xs:dateTime($thisUploadFMRRequestMsg.body/@CreationTime)) + xs:dayTimeDuration ("PT1H")</bpel:from>
            <bpel:to>$thisUploadFMRRequestMsg.body/@CreationTime</bpel:to>
          </bpel:copy>
          <bpel:copy ignoreUninitializedFromVariable="yes" ignoreMissingFromData="yes">
            <bpel:from>adjust-dateTime-to-timezone(xs:dateTime($thisUploadFMRRequestMsg.body/@ETA)) + xs:dayTimeDuration ("PT1H")</bpel:from>
            <bpel:to>$thisUploadFMRRequestMsg.body/@ETA</bpel:to>
          </bpel:copy>
          <bpel:copy ignoreUninitializedFromVariable="yes" ignoreMissingFromData="yes">
            <bpel:from>adjust-dateTime-to-timezone(xs:dateTime($thisUploadFMRRequestMsg.body/@ETD)) + xs:dayTimeDuration ("PT1H")</bpel:from>
            <bpel:to>$thisUploadFMRRequestMsg.body/@ETD</bpel:to>
          </bpel:copy>
          <bpel:copy ignoreUninitializedFromVariable="yes" ignoreMissingFromData="yes">
            <bpel:from>adjust-dateTime-to-timezone(xs:dateTime($thisUploadFMRRequestMsg.body/@STD)) + xs:dayTimeDuration ("PT1H")</bpel:from>
            <bpel:to>$thisUploadFMRRequestMsg.body/@STD</bpel:to>
          </bpel:copy>
          <bpel:copy ignoreUninitializedFromVariable="yes" ignoreMissingFromData="yes">
            <bpel:from>xs:dayTimeDuration ("PT1H") + adjust-dateTime-to-timezone(xs:dateTime($thisUploadFMRRequestMsg.body/@STA))</bpel:from>
            <bpel:to>$thisUploadFMRRequestMsg.body/@STA</bpel:to>
          </bpel:copy>
        </bpel:assign>
        <bpel:if>
          <bpel:condition>((bpel:doXslTransform("Discard.xsl", $thisUploadFMRRequestMsg.body) = "true") or (bpel:doXslTransform("DiscardArrival.xsl", $thisUploadFMRRequestMsg.body) = "true")) or (bpel:doXslTransform("DiscardDeparture.xsl", $thisUploadFMRRequestMsg.body) = "true")</bpel:condition>
          <bpel:sequence>
            <bpel:assign bpmn:label="setError" name="setError" bpmn:id="_zHgtwFZkEd6OBK2EwaAgcw">
              <bpel:copy>
                <bpel:from>"RECORD MISSING SOME DATA"</bpel:from>
                <bpel:to>$thisUploadFMRResponseMsg.body/tns:reponseMsg</bpel:to>
              </bpel:copy>
            </bpel:assign>
          </bpel:sequence>
          <bpel:else>
            <bpel:sequence>
              <bpel:assign bpmn:label="checkForUpdate" name="checkForUpdate" bpmn:id="_dRZrMFZmEd6OBK2EwaAgcw">
                <bpel:copy>
                  <bpel:from>bpel:doXslTransform("PrepareQueryForCount.xsl", $thisUploadFMRRequestMsg.body)</bpel:from>
                  <bpel:to>$countExistingTAsCountExistingTAsRequestMsg.parameters/countExistingTAs:execute/countExistingTAs:parameters/countExistingTAs:like</bpel:to>
                </bpel:copy>
              </bpel:assign>
              <bpel:invoke partnerLink="dbAndUploadProcessForCountExistingTAsPortPlkVar" portType="countExistingTAs:countExistingTAsPort" operation="countExistingTAs" inputVariable="countExistingTAsCountExistingTAsRequestMsg" outputVariable="countExistingTAsCountExistingTAsResponseMsg" bpmn:label="checkForUpdate" name="checkForUpdate-1" bpmn:id="_dRZrMFZmEd6OBK2EwaAgcw"></bpel:invoke>
              <bpel:assign bpmn:label="getShifts" name="getShifts" bpmn:id="_Qmie8GAmEd62BZFvm-kYig">
                <bpel:copy>
                  <bpel:from>bpel:doXslTransform("ShiftDetermination.xsl", $thisUploadFMRRequestMsg.body)</bpel:from>
                  <bpel:to>$shiftInput.body</bpel:to>
                </bpel:copy>
              </bpel:assign>
              <bpel:invoke partnerLink="uploadProcessAndSITAserviceForSITAservicePortPlkVar" portType="TAdata:SITAservicePortType" operation="getRoles" inputVariable="shiftInput" outputVariable="shiftOutput" bpmn:label="getShifts" name="getShifts-1" bpmn:id="_Qmie8GAmEd62BZFvm-kYig"></bpel:invoke>
              <bpel:assign bpmn:label="authenticate" name="authenticate" bpmn:id="_MRuwgGCXEd6OfeUZe_9QRQ">
                <bpel:copy>
                  <bpel:from>"intalio\admin"</bpel:from>
                  <bpel:to>$tokenService1AuthenticateUserRequestMsg.payload/TokenService1:user</bpel:to>
                </bpel:copy>
                <bpel:copy>
                  <bpel:from>"changeit"</bpel:from>
                  <bpel:to>$tokenService1AuthenticateUserRequestMsg.payload/TokenService1:password</bpel:to>
                </bpel:copy>
              </bpel:assign>
              <bpel:invoke partnerLink="uploadProcessAndTokenServiceForTokenServiceHttpportPlkVar" portType="TokenService1:TokenServicePortType" operation="authenticateUser" inputVariable="tokenService1AuthenticateUserRequestMsg" outputVariable="tokenService1AuthenticateUserResponseMsg" bpmn:label="authenticate" name="authenticate-1" bpmn:id="_MRuwgGCXEd6OfeUZe_9QRQ"></bpel:invoke>
              <bpel:if>
                <bpel:condition>$countExistingTAsCountExistingTAsResponseMsg.parameters/countExistingTAs:rows/countExistingTAs:row/countExistingTAs:COL1 = "0"</bpel:condition>
                <bpel:sequence>
                  <bpel:assign bpmn:label="Create TA" name="Create_TA" bpmn:id="_U8LSAEn3Ed6Rnb0wcVks_w">
                    <bpel:copy>
                      <bpel:from>$tokenService1AuthenticateUserResponseMsg.payload/TokenService1:token</bpel:from>
                      <bpel:to>$b4pCreateTaskRequestMsg.root/b4p:participantToken</bpel:to>
                    </bpel:copy>
                    <bpel:copy>
                      <bpel:from>"http://172.17.128.120:9080/gi/apppath/SITA/forms/TAmanagement.gi/IntalioInternal/ServerLaunch.html"</bpel:from>
                      <bpel:to>$b4pCreateTaskRequestMsg.root/b4p:taskMetaData/b4p:formUrl</bpel:to>
                    </bpel:copy>
                    <bpel:copy>
                      <bpel:from>bpel:doXslTransform("FMRtoTA.xsl", $thisUploadFMRRequestMsg.body)</bpel:from>
                      <bpel:to>$b4pCreateTaskRequestMsg.root/b4p:taskInput</bpel:to>
                    </bpel:copy>
                    <bpel:copy>
                      <bpel:from>$shiftOutput.body/roles</bpel:from>
                      <bpel:to>$b4pCreateTaskRequestMsg.root/b4p:taskMetaData/b4p:roleOwner</bpel:to>
                    </bpel:copy>
                    <bpel:copy>
                      <bpel:from>bpel:doXslTransform("description.xsl", $thisUploadFMRRequestMsg.body)</bpel:from>
                      <bpel:to>$b4pCreateTaskRequestMsg.root/b4p:taskMetaData/b4p:description</bpel:to>
                    </bpel:copy>
                    <bpel:copy>
                      <bpel:from>$ode:pid</bpel:from>
                      <bpel:to>$b4pCreateTaskRequestMsg.root/b4p:taskMetaData/b4p:instanceId</bpel:to>
                    </bpel:copy>
                  </bpel:assign>
                  <bpel:invoke partnerLink="uploadProcessAndTMPForUserBusinessProcessPortPlkVar" portType="b4p:UserBusinessProcessPortType" operation="createTask" inputVariable="b4pCreateTaskRequestMsg" outputVariable="b4pCreateTaskResponseMsg" bpmn:label="Create TA" name="Create_TA-1" bpmn:id="_U8LSAEn3Ed6Rnb0wcVks_w"></bpel:invoke>
                </bpel:sequence>
                <bpel:else>
                  <bpel:sequence>
                    <bpel:assign bpmn:label="getTask" name="getTask" bpmn:id="_3MMZQFZmEd6OBK2EwaAgcw">
                      <bpel:copy>
                        <bpel:from>"PATask"</bpel:from>
                        <bpel:to>$taskManagementSystemGetAvailableTasksWithInputOutputRequestMsg.getAvailableTasksWithInputOutputRequest/TaskManagementSystem:taskType</bpel:to>
                      </bpel:copy>
                      <bpel:copy>
                        <bpel:from>$tokenService1AuthenticateUserResponseMsg.payload/TokenService1:token</bpel:from>
                        <bpel:to>$taskManagementSystemGetAvailableTasksWithInputOutputRequestMsg.getAvailableTasksWithInputOutputRequest/TaskManagementSystem:participantToken</bpel:to>
                      </bpel:copy>
                      <bpel:copy>
                        <bpel:from>concat("T._output like '", $countExistingTAsCountExistingTAsRequestMsg.parameters/countExistingTAs:execute/countExistingTAs:parameters/countExistingTAs:like, "'  AND NOT(T._state = TaskState.COMPLETED)")</bpel:from>
                        <bpel:to>$taskManagementSystemGetAvailableTasksWithInputOutputRequestMsg.getAvailableTasksWithInputOutputRequest/TaskManagementSystem:subQuery</bpel:to>
                      </bpel:copy>
                    </bpel:assign>
                    <bpel:invoke partnerLink="tMsAndUploadProcessForPortTaskManagementServicesSOAPPlkVar" portType="TaskManagementSystem:TaskManagementServices" operation="getAvailableTasksWithInputOutput" inputVariable="taskManagementSystemGetAvailableTasksWithInputOutputRequestMsg" outputVariable="taskManagementSystemGetAvailableTasksWithInputOutputResponseMsg" bpmn:label="getTask" name="getTask-1" bpmn:id="_3MMZQFZmEd6OBK2EwaAgcw"></bpel:invoke>
                    <bpel:assign bpmn:label="updateData" name="updateData" bpmn:id="_MrnMEF8WEd6UEZqhP-YRNw">
                      <bpel:copy>
                        <bpel:from>$thisUploadFMRRequestMsg.body</bpel:from>
                        <bpel:to>$tAdataInputMessage.body/FMR</bpel:to>
                      </bpel:copy>
                      <bpel:copy>
                        <bpel:from>$taskManagementSystemGetAvailableTasksWithInputOutputResponseMsg.getAvailableTasksWithInputOutputResponse/TaskManagementSystem:task/TaskManagementSystem:output/node()</bpel:from>
                        <bpel:to>$tAdataInputMessage.body/TAdata:data/TAdata:FormModel</bpel:to>
                      </bpel:copy>
                    </bpel:assign>
                    <bpel:invoke partnerLink="uploadProcessAndSITAserviceForSITAservicePortPlkVar" portType="TAdata:SITAservicePortType" operation="updateTA" inputVariable="tAdataInputMessage" outputVariable="tAdataOuputMessage" bpmn:label="updateData" name="updateData-1" bpmn:id="_MrnMEF8WEd6UEZqhP-YRNw"></bpel:invoke>
                    <bpel:assign bpmn:label="reassign" name="reassign" bpmn:id="_-5N2sGAnEd62BZFvm-kYig">
                      <bpel:copy>
                        <bpel:from>$taskManagementSystemGetAvailableTasksWithInputOutputResponseMsg.getAvailableTasksWithInputOutputResponse/TaskManagementSystem:task/TaskManagementSystem:metadata/TaskManagementSystem:taskId</bpel:from>
                        <bpel:to>$taskManagementSystemReassignRequestMsg.reassignRequest/TaskManagementSystem:taskId</bpel:to>
                      </bpel:copy>
                      <bpel:copy>
                        <bpel:from>$shiftOutput.body/roles</bpel:from>
                        <bpel:to>$taskManagementSystemReassignRequestMsg.reassignRequest/TaskManagementSystem:roleOwner</bpel:to>
                      </bpel:copy>
                      <bpel:copy>
                        <bpel:from>$tokenService1AuthenticateUserResponseMsg.payload/TokenService1:token</bpel:from>
                        <bpel:to>$taskManagementSystemReassignRequestMsg.reassignRequest/TaskManagementSystem:participantToken</bpel:to>
                      </bpel:copy>
                      <bpel:copy>
                        <bpel:from>"READY"</bpel:from>
                        <bpel:to>$taskManagementSystemReassignRequestMsg.reassignRequest/TaskManagementSystem:taskState</bpel:to>
                      </bpel:copy>
                    </bpel:assign>
                    <bpel:invoke partnerLink="tMsAndUploadProcessForPortTaskManagementServicesSOAPPlkVar" portType="TaskManagementSystem:TaskManagementServices" operation="reassign" inputVariable="taskManagementSystemReassignRequestMsg" outputVariable="taskManagementSystemReassignResponseMsg" bpmn:label="reassign" name="reassign-1" bpmn:id="_-5N2sGAnEd62BZFvm-kYig"></bpel:invoke>
                    <bpel:assign bpmn:label="update TA" name="update_TA" bpmn:id="_UllP8FZ5Ed6OBK2EwaAgcw">
                      <bpel:copy>
                        <bpel:from>$taskManagementSystemGetAvailableTasksWithInputOutputResponseMsg.getAvailableTasksWithInputOutputResponse/TaskManagementSystem:task/TaskManagementSystem:metadata/TaskManagementSystem:taskId</bpel:from>
                        <bpel:to>$taskManagementSystemSetOutputRequestMsg.setOutputRequest/TaskManagementSystem:taskId</bpel:to>
                      </bpel:copy>
                      <bpel:copy>
                        <bpel:from>$tAdataOuputMessage.body</bpel:from>
                        <bpel:to>$taskManagementSystemSetOutputRequestMsg.setOutputRequest/TaskManagementSystem:data</bpel:to>
                      </bpel:copy>
                      <bpel:copy>
                        <bpel:from>$tokenService1AuthenticateUserResponseMsg.payload/TokenService1:token</bpel:from>
                        <bpel:to>$taskManagementSystemSetOutputRequestMsg.setOutputRequest/TaskManagementSystem:participantToken</bpel:to>
                      </bpel:copy>
                    </bpel:assign>
                    <bpel:invoke partnerLink="tMsAndUploadProcessForPortTaskManagementServicesSOAPPlkVar" portType="TaskManagementSystem:TaskManagementServices" operation="setOutput" inputVariable="taskManagementSystemSetOutputRequestMsg" outputVariable="taskManagementSystemSetOutputResponseMsg" bpmn:label="update TA" name="update_TA-1" bpmn:id="_UllP8FZ5Ed6OBK2EwaAgcw"></bpel:invoke>
                  </bpel:sequence>
                </bpel:else>
              </bpel:if>
              <bpel:empty bpmn:label="Exclusive_Data-based_Gateway" name="Exclusive_Data-based_Gateway" bpmn:id="_-ANDsFZmEd6OBK2EwaAgcw">
                <bpel:links>
                  <bpel:targets></bpel:targets>
                </bpel:links>
              </bpel:empty>
              <bpel:assign bpmn:label="setOk" name="setOk" bpmn:id="_ALOw0FZnEd6OBK2EwaAgcw">
                <bpel:copy>
                  <bpel:from>"OK"</bpel:from>
                  <bpel:to>$thisUploadFMRResponseMsg.body/tns:reponseMsg</bpel:to>
                </bpel:copy>
              </bpel:assign>
            </bpel:sequence>
          </bpel:else>
        </bpel:if>
        <bpel:empty bpmn:label="Exclusive_Data-based_Gateway" name="Exclusive_Data-based_Gateway-1" bpmn:id="_ho0UMFZiEd6OBK2EwaAgcw">
          <bpel:links>
            <bpel:targets></bpel:targets>
          </bpel:links>
        </bpel:empty>
        <bpel:reply partnerLink="uploadProcessAndAppearNetworksPlkVar" portType="this:ForAppearNetworks" operation="uploadFMR" variable="thisUploadFMRResponseMsg" bpmn:label="send FMR upload status" name="send_FMR_upload_status" bpmn:id="_gjH1YD7SEd6K2cgYiBoOqg"></bpel:reply>
      </bpel:sequence>
    </bpel:onMessage>
    <bpel:onMessage partnerLink="uploadProcessAndAppearNetworksPlkVar" portType="this:ForAppearNetworks" operation="uploadHIL" variable="thisUploadHILRequestMsg" bpmn:label="uploadHIL" name="uploadHIL" bpmn:id="_cXBBUD7SEd6K2cgYiBoOqg">
      <bpel:sequence>
        <bpel:assign name="init-variables-UploadProcess" bpmn:id="_VbNFwD7SEd6K2cgYiBoOqg">
          <bpel:copy bpmn:label="$thisUploadHILResponseMsg">
            <bpel:from>
              <bpel:literal>
<tns:uploadReponse>
  <tns:reponseMsg></tns:reponseMsg>
</tns:uploadReponse></bpel:literal>
            </bpel:from>
            <bpel:to>$thisUploadHILResponseMsg.body</bpel:to>
          </bpel:copy>
          <bpel:copy bpmn:label="$b4pCreateTaskRequestMsg">
            <bpel:from>
              <bpel:literal>
<b4p:createTaskRequest>
  <b4p:taskMetaData>
    <b4p:taskId></b4p:taskId>
    <b4p:taskState></b4p:taskState>
    <b4p:taskType></b4p:taskType>
    <b4p:description></b4p:description>
    <b4p:processId></b4p:processId>
    <b4p:instanceId></b4p:instanceId>
    <b4p:creationDate></b4p:creationDate>
    <b4p:userOwner></b4p:userOwner>
    <b4p:roleOwner></b4p:roleOwner>
    <b4p:claimAction>
      <b4p:user></b4p:user>
      <b4p:role></b4p:role>
    </b4p:claimAction>
    <b4p:revokeAction>
      <b4p:user></b4p:user>
      <b4p:role></b4p:role>
    </b4p:revokeAction>
    <b4p:saveAction>
      <b4p:user></b4p:user>
      <b4p:role></b4p:role>
    </b4p:saveAction>
    <b4p:dismissAction>
      <b4p:user></b4p:user>
      <b4p:role></b4p:role>
    </b4p:dismissAction>
    <b4p:completeAction>
      <b4p:user></b4p:user>
      <b4p:role></b4p:role>
    </b4p:completeAction>
    <b4p:deferAction>
      <b4p:user></b4p:user>
      <b4p:role></b4p:role>
    </b4p:deferAction>
    <b4p:formUrl></b4p:formUrl>
    <b4p:failureCode></b4p:failureCode>
    <b4p:failureReason></b4p:failureReason>
    <b4p:priority></b4p:priority>
    <b4p:scheduledActions>
      <b4p:expiration>
        <b4p:until></b4p:until>
        <b4p:for></b4p:for>
      </b4p:expiration>
      <b4p:deferActivation>
        <b4p:until></b4p:until>
        <b4p:for></b4p:for>
      </b4p:deferActivation>
    </b4p:scheduledActions>
    <b4p:userEndpoint></b4p:userEndpoint>
    <b4p:userProcessEndpoint></b4p:userProcessEndpoint>
    <b4p:userProcessNamespaceURI></b4p:userProcessNamespaceURI>
    <b4p:userProcessCompleteSOAPAction></b4p:userProcessCompleteSOAPAction>
    <b4p:isChainedBefore></b4p:isChainedBefore>
    <b4p:previousTaskId></b4p:previousTaskId>
    <b4p:nextTaskId></b4p:nextTaskId>
    <b4p:session></b4p:session>
    <b4p:nextTaskURL></b4p:nextTaskURL>
    <b4p:attachments>
      <attachment>
        <attachmentMetadata>
          <mimeType></mimeType>
          <fileName></fileName>
          <title></title>
          <description></description>
          <creationDate></creationDate>
        </attachmentMetadata>
        <payloadUrl></payloadUrl>
      </attachment>
    </b4p:attachments>
  </b4p:taskMetaData>
  <b4p:participantToken></b4p:participantToken>
  <b4p:taskInput></b4p:taskInput>
</b4p:createTaskRequest></bpel:literal>
            </bpel:from>
            <bpel:to>$b4pCreateTaskRequestMsg.root</bpel:to>
          </bpel:copy>
          <bpel:copy bpmn:label="$taskManagementSystemSetOutputRequestMsg">
            <bpel:from>
              <bpel:literal>
<TaskManagementSystem:setOutputRequest>
  <TaskManagementSystem:taskId></TaskManagementSystem:taskId>
  <TaskManagementSystem:data>
    <TAdata:Activity>
      <TAdata:AircraftID></TAdata:AircraftID>
      <TAdata:startTime></TAdata:startTime>
      <TAdata:finishTime></TAdata:finishTime>
      <TAdata:releaseTime></TAdata:releaseTime>
      <TAdata:late></TAdata:late>
      <TAdata:update></TAdata:update>
    </TAdata:Activity>
    <TAdata:ArrivalDeparture>
      <TAdata:ScheduledArrivalDate></TAdata:ScheduledArrivalDate>
      <TAdata:STA></TAdata:STA>
      <TAdata:ScheduledDepartureDate></TAdata:ScheduledDepartureDate>
      <TAdata:STD></TAdata:STD>
      <TAdata:EstimatedArrivalDate></TAdata:EstimatedArrivalDate>
      <TAdata:ETA></TAdata:ETA>
      <TAdata:EstimatedDepartureDate></TAdata:EstimatedDepartureDate>
      <TAdata:ETD></TAdata:ETD>
      <TAdata:ActualArrivalDate></TAdata:ActualArrivalDate>
      <TAdata:ATA></TAdata:ATA>
      <TAdata:ActualDepartureDate></TAdata:ActualDepartureDate>
      <TAdata:ATD></TAdata:ATD>
      <TAdata:ArrivalFlightNumber></TAdata:ArrivalFlightNumber>
      <TAdata:DepartureFlightNumber></TAdata:DepartureFlightNumber>
    </TAdata:ArrivalDeparture>
    <TAdata:Inspection>
      <TAdata:assigned></TAdata:assigned>
      <TAdata:Stand></TAdata:Stand>
      <TAdata:InspectionType></TAdata:InspectionType>
      <TAdata:InspectionStatus></TAdata:InspectionStatus>
      <TAdata:resources></TAdata:resources>
      <TAdata:RTR>
        <TAdata:RTRid></TAdata:RTRid>
        <TAdata:RTRdescription></TAdata:RTRdescription>
        <TAdata:RTRstatus></TAdata:RTRstatus>
        <TAdata:RTRad></TAdata:RTRad>
      </TAdata:RTR>
      <TAdata:assignedCoord>
        <TAdata:assignedCoordName></TAdata:assignedCoordName>
        <TAdata:assignedCoordID></TAdata:assignedCoordID>
        <TAdata:assignedCoordCert></TAdata:assignedCoordCert>
      </TAdata:assignedCoord>
      <TAdata:assignedMechanics>
        <TAdata:assignedMechanicName></TAdata:assignedMechanicName>
        <TAdata:assignedMechanicID></TAdata:assignedMechanicID>
        <TAdata:assignedMechanicCert></TAdata:assignedMechanicCert>
        <TAdata:entitledToRelease>false</TAdata:entitledToRelease>
      </TAdata:assignedMechanics>
      <TAdata:assignedAvionics>
        <TAdata:assignedAvionicName></TAdata:assignedAvionicName>
        <TAdata:assignedAvionicID></TAdata:assignedAvionicID>
        <TAdata:assignedAvionicCert></TAdata:assignedAvionicCert>
      </TAdata:assignedAvionics>
    </TAdata:Inspection>
    <TAdata:HIL>
      <TAdata:TAHIL>
        <TAdata:TAHILid></TAdata:TAHILid>
        <TAdata:TAHILtype></TAdata:TAHILtype>
        <TAdata:TAHILopeningDate></TAdata:TAHILopeningDate>
        <TAdata:TAHILCL></TAdata:TAHILCL>
        <TAdata:TAHILlimitDate></TAdata:TAHILlimitDate>
        <TAdata:TAHILclosingDate></TAdata:TAHILclosingDate>
        <TAdata:TAHILATA100></TAdata:TAHILATA100>
        <TAdata:TAHILdescription></TAdata:TAHILdescription>
        <TAdata:TAHILstatus></TAdata:TAHILstatus>
        <TAdata:TAHILpartNr></TAdata:TAHILpartNr>
        <TAdata:TAHILcomments></TAdata:TAHILcomments>
      </TAdata:TAHIL>
    </TAdata:HIL>
    <TAdata:DC>
      <TAdata:ExpectedStartTime></TAdata:ExpectedStartTime>
      <TAdata:ExpectedFinishTime></TAdata:ExpectedFinishTime>
      <TAdata:ExpectedReleaseTime></TAdata:ExpectedReleaseTime>
      <TAdata:CompassInspectionType></TAdata:CompassInspectionType>
      <TAdata:Comments></TAdata:Comments>
    </TAdata:DC>
  </TaskManagementSystem:data>
  <TaskManagementSystem:participantToken></TaskManagementSystem:participantToken>
</TaskManagementSystem:setOutputRequest></bpel:literal>
            </bpel:from>
            <bpel:to>$taskManagementSystemSetOutputRequestMsg.setOutputRequest</bpel:to>
          </bpel:copy>
          <bpel:copy bpmn:label="$tAdataInputMessage">
            <bpel:from>
              <bpel:literal>
<TAdata:updateInput>
  <FMR ATA="" ATD="" Aircraft="" ArrivalFlightNumber="" CreationTime="" DepartureFlightNumber="" InspectionType="" Rtr-id="" STA="" STD="" Stand=""></FMR>
  <TAdata:data>
    <TAdata:FormModel>
      <TAdata:Activity>
        <TAdata:AircraftID></TAdata:AircraftID>
        <TAdata:startTime></TAdata:startTime>
        <TAdata:finishTime></TAdata:finishTime>
        <TAdata:releaseTime></TAdata:releaseTime>
        <TAdata:late></TAdata:late>
        <TAdata:update></TAdata:update>
      </TAdata:Activity>
      <TAdata:ArrivalDeparture>
        <TAdata:ScheduledArrivalDate></TAdata:ScheduledArrivalDate>
        <TAdata:STA></TAdata:STA>
        <TAdata:ScheduledDepartureDate></TAdata:ScheduledDepartureDate>
        <TAdata:STD></TAdata:STD>
        <TAdata:EstimatedArrivalDate></TAdata:EstimatedArrivalDate>
        <TAdata:ETA></TAdata:ETA>
        <TAdata:EstimatedDepartureDate></TAdata:EstimatedDepartureDate>
        <TAdata:ETD></TAdata:ETD>
        <TAdata:ActualArrivalDate></TAdata:ActualArrivalDate>
        <TAdata:ATA></TAdata:ATA>
        <TAdata:ActualDepartureDate></TAdata:ActualDepartureDate>
        <TAdata:ATD></TAdata:ATD>
        <TAdata:ArrivalFlightNumber></TAdata:ArrivalFlightNumber>
        <TAdata:DepartureFlightNumber></TAdata:DepartureFlightNumber>
      </TAdata:ArrivalDeparture>
      <TAdata:Inspection>
        <TAdata:assigned></TAdata:assigned>
        <TAdata:Stand></TAdata:Stand>
        <TAdata:InspectionType></TAdata:InspectionType>
        <TAdata:InspectionStatus></TAdata:InspectionStatus>
        <TAdata:resources></TAdata:resources>
        <TAdata:RTR>
          <TAdata:RTRid></TAdata:RTRid>
          <TAdata:RTRdescription></TAdata:RTRdescription>
          <TAdata:RTRstatus></TAdata:RTRstatus>
          <TAdata:RTRad></TAdata:RTRad>
        </TAdata:RTR>
        <TAdata:assignedCoord>
          <TAdata:assignedCoordName></TAdata:assignedCoordName>
          <TAdata:assignedCoordID></TAdata:assignedCoordID>
          <TAdata:assignedCoordCert></TAdata:assignedCoordCert>
        </TAdata:assignedCoord>
        <TAdata:assignedMechanics>
          <TAdata:assignedMechanicName></TAdata:assignedMechanicName>
          <TAdata:assignedMechanicID></TAdata:assignedMechanicID>
          <TAdata:assignedMechanicCert></TAdata:assignedMechanicCert>
          <TAdata:entitledToRelease>false</TAdata:entitledToRelease>
        </TAdata:assignedMechanics>
        <TAdata:assignedAvionics>
          <TAdata:assignedAvionicName></TAdata:assignedAvionicName>
          <TAdata:assignedAvionicID></TAdata:assignedAvionicID>
          <TAdata:assignedAvionicCert></TAdata:assignedAvionicCert>
        </TAdata:assignedAvionics>
      </TAdata:Inspection>
      <TAdata:HIL>
        <TAdata:TAHIL>
          <TAdata:TAHILid></TAdata:TAHILid>
          <TAdata:TAHILtype></TAdata:TAHILtype>
          <TAdata:TAHILopeningDate></TAdata:TAHILopeningDate>
          <TAdata:TAHILCL></TAdata:TAHILCL>
          <TAdata:TAHILlimitDate></TAdata:TAHILlimitDate>
          <TAdata:TAHILclosingDate></TAdata:TAHILclosingDate>
          <TAdata:TAHILATA100></TAdata:TAHILATA100>
          <TAdata:TAHILdescription></TAdata:TAHILdescription>
          <TAdata:TAHILstatus></TAdata:TAHILstatus>
          <TAdata:TAHILpartNr></TAdata:TAHILpartNr>
          <TAdata:TAHILcomments></TAdata:TAHILcomments>
        </TAdata:TAHIL>
      </TAdata:HIL>
      <TAdata:DC>
        <TAdata:ExpectedStartTime></TAdata:ExpectedStartTime>
        <TAdata:ExpectedFinishTime></TAdata:ExpectedFinishTime>
        <TAdata:ExpectedReleaseTime></TAdata:ExpectedReleaseTime>
        <TAdata:CompassInspectionType></TAdata:CompassInspectionType>
        <TAdata:Comments></TAdata:Comments>
      </TAdata:DC>
    </TAdata:FormModel>
  </TAdata:data>
</TAdata:updateInput></bpel:literal>
            </bpel:from>
            <bpel:to>$tAdataInputMessage.body</bpel:to>
          </bpel:copy>
          <bpel:copy bpmn:label="$shiftInput">
            <bpel:from>
              <bpel:literal>
<TAdata:TAdates>
  <startDateTime></startDateTime>
  <endDateTime></endDateTime>
</TAdata:TAdates></bpel:literal>
            </bpel:from>
            <bpel:to>$shiftInput.body</bpel:to>
          </bpel:copy>
          <bpel:copy bpmn:label="$tokenService1AuthenticateUserRequestMsg">
            <bpel:from>
              <bpel:literal>
<TokenService1:authenticateUser>
  <TokenService1:user></TokenService1:user>
  <TokenService1:password></TokenService1:password>
</TokenService1:authenticateUser></bpel:literal>
            </bpel:from>
            <bpel:to>$tokenService1AuthenticateUserRequestMsg.payload</bpel:to>
          </bpel:copy>
          <bpel:copy bpmn:label="$taskManagementSystemReassignRequestMsg">
            <bpel:from>
              <bpel:literal>
<TaskManagementSystem:reassignRequest>
  <TaskManagementSystem:taskId></TaskManagementSystem:taskId>
  <TaskManagementSystem:userOwner></TaskManagementSystem:userOwner>
  <TaskManagementSystem:roleOwner></TaskManagementSystem:roleOwner>
  <TaskManagementSystem:taskState></TaskManagementSystem:taskState>
  <TaskManagementSystem:participantToken></TaskManagementSystem:participantToken>
</TaskManagementSystem:reassignRequest></bpel:literal>
            </bpel:from>
            <bpel:to>$taskManagementSystemReassignRequestMsg.reassignRequest</bpel:to>
          </bpel:copy>
          <bpel:copy bpmn:label="$thisUploadFMRResponseMsg">
            <bpel:from>
              <bpel:literal>
<tns:uploadReponse>
  <tns:reponseMsg></tns:reponseMsg>
</tns:uploadReponse></bpel:literal>
            </bpel:from>
            <bpel:to>$thisUploadFMRResponseMsg.body</bpel:to>
          </bpel:copy>
          <bpel:copy bpmn:label="$taskManagementSystemGetAvailableTasksWithInputOutputRequestMsg">
            <bpel:from>
              <bpel:literal>
<TaskManagementSystem:getAvailableTasksWithInputOutputRequest>
  <TaskManagementSystem:participantToken></TaskManagementSystem:participantToken>
  <TaskManagementSystem:taskType></TaskManagementSystem:taskType>
  <TaskManagementSystem:subQuery></TaskManagementSystem:subQuery>
  <TaskManagementSystem:filter></TaskManagementSystem:filter>
  <TaskManagementSystem:first></TaskManagementSystem:first>
  <TaskManagementSystem:max></TaskManagementSystem:max>
</TaskManagementSystem:getAvailableTasksWithInputOutputRequest></bpel:literal>
            </bpel:from>
            <bpel:to>$taskManagementSystemGetAvailableTasksWithInputOutputRequestMsg.getAvailableTasksWithInputOutputRequest</bpel:to>
          </bpel:copy>
          <bpel:copy bpmn:label="$countExistingTAsCountExistingTAsRequestMsg">
            <bpel:from>
              <bpel:literal>
<countExistingTAs:countExistingTAsParameterSet>
  <countExistingTAs:connection>
    <countExistingTAs:user></countExistingTAs:user>
    <countExistingTAs:password></countExistingTAs:password>
  </countExistingTAs:connection>
  <countExistingTAs:execute>
    <countExistingTAs:parameters>
      <countExistingTAs:like></countExistingTAs:like>
    </countExistingTAs:parameters>
  </countExistingTAs:execute>
</countExistingTAs:countExistingTAsParameterSet></bpel:literal>
            </bpel:from>
            <bpel:to>$countExistingTAsCountExistingTAsRequestMsg.parameters</bpel:to>
          </bpel:copy>
        </bpel:assign>
        <bpel:empty bpmn:label="create HIL" name="create_HIL" bpmn:id="_fwKHYD7SEd6K2cgYiBoOqg"/>
        <bpel:reply partnerLink="uploadProcessAndAppearNetworksPlkVar" portType="this:ForAppearNetworks" operation="uploadHIL" variable="thisUploadHILResponseMsg" bpmn:label="send HIL upload status" name="send_HIL_upload_status" bpmn:id="_h_hh8D7SEd6K2cgYiBoOqg"></bpel:reply>
      </bpel:sequence>
    </bpel:onMessage>
  </bpel:pick>
</bpel:process>