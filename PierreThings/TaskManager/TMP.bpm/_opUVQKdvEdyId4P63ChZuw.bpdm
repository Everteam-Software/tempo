<bpel:process xmlns:bpdm="http://www.intalio/designer/business-process-data-modeling" xmlns:mapper="http://www.intalio.com/designer/mapper" xmlns:tns="http://www.intalio.com/BPMS/Workflow/TaskManagementServices-20051109/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:diag="http://thisdiagram" xmlns:b4px="java:org.intalio.tempo.workflow.processes.xpath.UID" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:PreviousProcessTaskManager="http://thisdiagram/PreviousProcessTaskManager" xmlns:this="http://example.com/TMP/TaskManagementProcess" xmlns:b4p="http://www.intalio.com/bpms/workflow/ib4p_20051115" xmlns:UserBusinessProcess1="http://www.intalio.com/bpms/ubp" xmlns:xml="http://www.w3.org/XML/1998/namespace" xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable" xmlns:vprop="http://docs.oasis-open.org/wsbpel/2.0/varprop" xmlns:pnlk="http://docs.oasis-open.org/wsbpel/2.0/plnktype" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:ode="http://www.apache.org/ode/type/extension" targetNamespace="http://example.com/TMP/TaskManagementProcess">
    <bpdm:dependencies version="6000076">
        <bpdm:namespaceDefinition bpdm:uri="http://www.intalio.com/BPMS/Workflow/TaskManagementServices-20051109/" bpdm:prefix="tns" bpdm:comment="contrib=&apos;project:///TaskManagementSystem.wsdl"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://www.w3.org/2001/XMLSchema-instance" bpdm:prefix="xsi"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://thisdiagram" bpdm:prefix="diag" bpdm:comment="contrib=&apos;partner-pool:///_mYPqgKdvEdyId4P63ChZuw"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="java:org.intalio.tempo.workflow.processes.xpath.UID" bpdm:prefix="b4px" bpdm:comment="contrib=&apos;project:///b4px.xpath"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://www.w3.org/2001/XMLSchema" bpdm:prefix="xs"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://thisdiagram/PreviousProcessTaskManager" bpdm:prefix="PreviousProcessTaskManager" bpdm:comment="contrib=&apos;partner-pool:///_NyC9UKgeEdylDI4yblkdQQ"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://example.com/TMP/TaskManagementProcess" bpdm:prefix="this" bpdm:type="this_process"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://www.intalio.com/bpms/workflow/ib4p_20051115" bpdm:prefix="b4p" bpdm:comment="contrib=&apos;project:///TaskManagerProcess.wsdl"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://www.intalio.com/bpms/ubp" bpdm:prefix="UserBusinessProcess1" bpdm:comment="contrib=&apos;project:///UserBusinessProcess.wsdl"></bpdm:namespaceDefinition>
        <bpdm:namespaceDefinition bpdm:uri="http://www.w3.org/XML/1998/namespace" bpdm:prefix="xml"></bpdm:namespaceDefinition>
        <bpdm:namespaceContributor bpdm:url="thisprocess://this-process-types" bpdm:label="process defined this-process-types">
            <vprop:property name="taskId" type="xs:string"/>
            <vprop:propertyAlias propertyName="this:taskId" messageType="b4p:createTaskResponse" part="root">
                <vprop:query>b4p:taskMetaData/b4p:taskId/text()</vprop:query>
            </vprop:propertyAlias>
            <vprop:propertyAlias propertyName="this:taskId" messageType="b4p:escalateTaskRequest" part="root">
                <vprop:query>b4p:taskId/text()</vprop:query>
            </vprop:propertyAlias>
            <vprop:propertyAlias propertyName="this:taskId" messageType="b4p:completeTaskRequest" part="root">
                <vprop:query>b4p:taskMetaData/b4p:taskId/text()</vprop:query>
            </vprop:propertyAlias>
            <vprop:propertyAlias propertyName="this:taskId" messageType="b4p:revokeTaskRequest" part="root">
                <vprop:query>b4p:taskId/text()</vprop:query>
            </vprop:propertyAlias>
            <vprop:propertyAlias propertyName="this:taskId" messageType="b4p:claimTaskRequest" part="root">
                <vprop:query>b4p:taskId/text()</vprop:query>
            </vprop:propertyAlias>
            <vprop:propertyAlias propertyName="this:taskId" messageType="b4p:nextTaskReady" part="root">
                <vprop:query>b4p:previousTaskId/text()</vprop:query>
            </vprop:propertyAlias>
            <vprop:propertyAlias propertyName="this:taskId" messageType="b4p:skipTaskRequest" part="root">
                <vprop:query>b4p:taskId/text()</vprop:query>
            </vprop:propertyAlias>
        </bpdm:namespaceContributor>
        <bpdm:namespaceContributor bpdm:url="project:///UserBusinessProcess.wsdl"/>
        <bpdm:namespaceContributor bpdm:url="project:///TaskManagerProcess.wsdl"/>
        <bpdm:namespaceContributor bpdm:url="partner-pool:///_mYPqgKdvEdyId4P63ChZuw" bpdm:label="UserBusinessProcess"/>
        <bpdm:namespaceContributor bpdm:url="project:///TaskManagementSystem.wsdl"/>
        <bpdm:namespaceContributor bpdm:url="partner-pool:///_5sghwKd1EdyId4P63ChZuw" bpdm:label="TaskManagementSystem"/>
        <bpdm:namespaceContributor bpdm:url="partner-pool:///_Bm9j4KhHEdyQFMjeTyvJzg" bpdm:label="UIFW"/>
        <bpdm:namespaceContributor bpdm:url="project:///b4p.xsd"/>
        <bpdm:namespaceContributor bpdm:url="project:///b4px.xpath"/>
        <bpdm:namespaceContributor bpdm:url="partner-pool:///_NyC9UKgeEdylDI4yblkdQQ" bpdm:label="PreviousProcessTaskManager"/>
        <bpdm:namespaceContributor bpdm:url="partner-pool:///_7ssnEKhVEdyQFMjeTyvJzg" bpdm:label="NextTaskManager"/>
    </bpdm:dependencies>
    <bpel:scope bpdm:label="TaskManagementProcess" bpdm:ID="_opUVQKdvEdyId4P63ChZuw">
        <bpel:partnerLinks>
            <bpel:partnerLink name="tMPAndUBPPlkVar" partnerLinkType="diag:TMPAndUBP" initializePartnerRole="yes" myRole="TaskManagementProcess_for_UserBusinessProcessForUserBusinessProcessPort" bpdm:enableSharing="false" bpdm:providedService="b4p:UserBusinessProcessService" bpdm:providedPort="UserBusinessProcessPort" bpdm:provideSOAPAddress="http://localhost:9080/ode/processes/workflow/ib4p" bpdm:providedIsDefault="true" partnerRole="UserBusinessProcess_for_TaskManagementProcessForUserProcessPort" bpdm:invokedService="UserBusinessProcess1:UserBusinessProcessesServices" bpdm:invokedPort="userProcessPort" bpdm:invokedSOAPAddress="http://localhost:9080/fds/workflow/ib4p" bpdm:invokedIsDefault="true" bpdm:clientTasks="_opUVQKdvEdyId4P63ChZuw:_kh8I0KdyEdyId4P63ChZuw, _TbKiIKhDEdyQFMjeTyvJzg:_P5U2QKhHEdyQFMjeTyvJzg, _3Ct-YLEgEdy6MtvbqSLrQw:_UM9-sMK_EdyR9_IVnPh8Pg, _TbKiIKhDEdyQFMjeTyvJzg:_NRL9EKhMEdyQFMjeTyvJzg, _TbKiIKhDEdyQFMjeTyvJzg:_JP7KQKhQEdyQFMjeTyvJzg" bpdm:isManaged="true" bpdm:otherPoolId="_mYPqgKdvEdyId4P63ChZuw"/>
            <bpel:partnerLink name="taskManagementProcessAndTaskManagementSystemForPortTaskManagementServicesSOAPPlkVar" partnerLinkType="diag:TaskManagementProcessAndTaskManagementSystemForPortTaskManagementServicesSOAPPlk" initializePartnerRole="yes" partnerRole="TaskManagementSystem_for_TaskManagementProcess" bpdm:invokedService="tns:TaskManagementServices" bpdm:invokedPort="TaskManagementServicesSOAP" bpdm:invokedSOAPAddress="http://localhost:9080/axis2/services/TaskManagementServices" bpdm:invokedIsDefault="true" bpdm:clientTasks="_opUVQKdvEdyId4P63ChZuw:_jiUMsKgTEdylDI4yblkdQQ, _TbKiIKhDEdyQFMjeTyvJzg:_TtOm0KklEdyFPr8ebhWveQ, _TbKiIKhDEdyQFMjeTyvJzg:_D1muMKkiEdyFPr8ebhWveQ, _TbKiIKhDEdyQFMjeTyvJzg:_wSyCIKhNEdyQFMjeTyvJzg, _TbKiIKhDEdyQFMjeTyvJzg:_p3IKIKhJEdyQFMjeTyvJzg, _3Ct-YLEgEdy6MtvbqSLrQw:_FyrywLEhEdy6MtvbqSLrQw, _TbKiIKhDEdyQFMjeTyvJzg:_H8BBcHB5Ed2pTYDSDTVx7Q, _TbKiIKhDEdyQFMjeTyvJzg:_6-GHIGmhEd2FXpqqOgbHYQ" bpdm:isManaged="true" bpdm:otherPoolId="_5sghwKd1EdyId4P63ChZuw"/>
            <bpel:partnerLink name="taskManagementProcessAndPreviousProcessTaskManagerForTMPPortPlkVar" partnerLinkType="diag:TaskManagementProcessAndPreviousProcessTaskManagerForTMPPortPlk" initializePartnerRole="yes" partnerRole="PreviousProcessTaskManager_for_TaskManagementProcess" bpdm:invokedService="b4p:TMPService" bpdm:invokedPort="TMPPort" bpdm:invokedSOAPAddress="http://localhost:9080/ode/processes/TMP" bpdm:invokedIsDefault="true" bpdm:clientTasks="_opUVQKdvEdyId4P63ChZuw:_DkaEoKgeEdylDI4yblkdQQ" bpdm:isManaged="true" bpdm:otherPoolId="_NyC9UKgeEdylDI4yblkdQQ"/>
            <bpel:partnerLink name="taskManagementProcessAndUIFWForUIFWPortPlkVar" partnerLinkType="diag:TaskManagementProcessAndUIFWForUIFWPortPlk" myRole="TaskManagementProcess_for_UIFW" bpdm:enableSharing="false" bpdm:providedService="b4p:UIFWService" bpdm:providedPort="UIFWPort" bpdm:provideSOAPAddress="http://localhost:9080/ode/processes/completeTask" bpdm:providedIsDefault="true" bpdm:clientTasks="_TbKiIKhDEdyQFMjeTyvJzg:_FpfJ0KkmEdyFPr8ebhWveQ, _TbKiIKhDEdyQFMjeTyvJzg:_Vv8-cKkjEdyFPr8ebhWveQ, _TbKiIKhDEdyQFMjeTyvJzg:_4bvxgHB4Ed2pTYDSDTVx7Q, _TbKiIKhDEdyQFMjeTyvJzg:_7pZP0KkjEdyFPr8ebhWveQ, _TbKiIKhDEdyQFMjeTyvJzg:_WYkDIKkOEdyRnIK1kDiFhA, _TbKiIKhDEdyQFMjeTyvJzg:_M8ajwHB6Ed2pTYDSDTVx7Q, _TbKiIKhDEdyQFMjeTyvJzg:_yEJboKhZEdyXuZws7kaYiQ, _TbKiIKhDEdyQFMjeTyvJzg:_QcFlEKhHEdyQFMjeTyvJzg" bpdm:isManaged="true" bpdm:otherPoolId="_Bm9j4KhHEdyQFMjeTyvJzg"/>
            <bpel:partnerLink name="taskManagementProcessAndNextTaskManagerForTMPPortPlkVar" partnerLinkType="diag:TaskManagementProcessAndNextTaskManagerForTMPPortPlk" myRole="TaskManagementProcess_for_NextTaskManager" bpdm:enableSharing="false" bpdm:providedService="b4p:TMPService" bpdm:providedPort="TMPPort" bpdm:provideSOAPAddress="http://localhost:9080/ode/processes/TMP" bpdm:providedIsDefault="true" bpdm:clientTasks="_TbKiIKhDEdyQFMjeTyvJzg:_tth9iKhVEdyQFMjeTyvJzg" bpdm:isManaged="true" bpdm:otherPoolId="_7ssnEKhVEdyQFMjeTyvJzg"/>
        </bpel:partnerLinks>
        <bpel:correlationSets>
            <bpel:correlationSet name="task" properties="this:taskId"/>
        </bpel:correlationSets>
        <bpel:variables>
            <bpel:variable name="createTMSTaskRequest" messageType="tns:createRequest" bpdm:id="_CcaGUKgUEdylDI4yblkdQQ" bpdm:messageIds=" out:_CbjKsKgUEdylDI4yblkdQQ">
                <bpel:from bpdm:toPart="createRequest">
                    <bpel:literal bpdm:linkedMessageType="tns:createRequest" bpdm:linkedPart="createRequest" bpdm:linkedFile="createRequest.createRequest-_opUVQKdvEdyId4P63ChZuw-1-literal.xml"></bpel:literal>
                </bpel:from>
            </bpel:variable>
            <bpel:variable name="createTMSTaskResponse" messageType="tns:okResponse" bpdm:id="_CujmRagUEdylDI4yblkdQQ" bpdm:messageIds="inc:_CtOJgKgUEdylDI4yblkdQQ"/>
            <bpel:variable name="taskCompleted" type="xs:boolean">
                <bpel:from>
                    <bpel:literal bpdm:linkedType="xs:boolean" bpdm:linkedFile="boolean-_opUVQKdvEdyId4P63ChZuw-0-literal.xml"></bpel:literal>
                </bpel:from>
            </bpel:variable>
            <bpel:variable name="taskClaimed" type="xs:boolean">
                <bpel:from>
                    <bpel:literal bpdm:linkedType="xs:boolean" bpdm:linkedFile="boolean-_opUVQKdvEdyId4P63ChZuw-1-literal.xml"></bpel:literal>
                </bpel:from>
            </bpel:variable>
            <bpel:variable name="taskEscalated" type="xs:boolean">
                <bpel:from>
                    <bpel:literal bpdm:linkedType="xs:boolean" bpdm:linkedFile="boolean-_opUVQKdvEdyId4P63ChZuw-2-literal.xml"></bpel:literal>
                </bpel:from>
            </bpel:variable>
            <bpel:variable name="createTaskRequest" messageType="b4p:createTaskRequest" bpdm:id="_jL4EkK2jEdyByaehtXUpTg" bpdm:messageIds="inc:_l1_KoKdyEdyId4P63ChZuw"/>
            <bpel:variable name="createTaskResponse" messageType="b4p:createTaskResponse" bpdm:id="_k8efgK2jEdyByaehtXUpTg" bpdm:messageIds=" out:_mexB4KdyEdyId4P63ChZuw">
                <bpel:from bpdm:toPart="root">
                    <bpel:literal bpdm:linkedMessageType="b4p:createTaskResponse" bpdm:linkedPart="root"></bpel:literal>
                </bpel:from>
            </bpel:variable>
            <bpel:variable name="initialOwners" type="tns:owners" bpdm:id="_5gyxYHMSEd2GYvB_CSnvhA">
                <bpel:from>
                    <bpel:literal bpdm:linkedType="tns:owners"></bpel:literal>
                </bpel:from>
            </bpel:variable>
            <bpel:variable name="b4pNextTaskReadyMsg" messageType="b4p:nextTaskReady" binding="b4p:TMPBinding" operation="nextTaskReady" opMsgType="0" bpdm:id="_NiUxULWTEd2-yIG37lkTQw" bpdm:messageIds=" out:_VVMlsKgeEdylDI4yblkdQQ">
                <bpel:from bpdm:toPart="root">
                    <bpel:literal bpdm:linkedMessageType="b4p:nextTaskReady" bpdm:linkedPart="root" bpdm:binding="b4p:TMPBinding" bpdm:opMsgType="0" bpdm:operation="nextTaskReady"></bpel:literal>
                </bpel:from>
            </bpel:variable>
        </bpel:variables>
        <bpel:sequence>
            <bpdm:messagingtask operation="createTask" partnerLink="tMPAndUBPPlkVar" portType="b4p:UserBusinessProcessPortType" isMyRole="true" enableSharing="false" bpdm:label="Create Task" bpdm:ID="_kh8I0KdyEdyId4P63ChZuw">
                <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="receive" bpdm:messageVariable="createTaskRequest" bpdm:msgVarScopeId="_opUVQKdvEdyId4P63ChZuw" bpdm:variableIsManaged="true" bpdm:messageType="b4p:createTaskRequest" bpdm:ID="_l1_KoKdyEdyId4P63ChZuw"></bpdm:linkset>
                <bpdm:linkset bpdm:type="assignments">
                    <bpel:copy>
                        <bpel:from>concat(b4px:create(), $ode:pid)</bpel:from>
                        <bpel:to>$createTaskResponse.root/b4p:taskMetaData/b4p:taskId</bpel:to><mapper:mapperLink><mapper:vertice id="21748385" targetPath="$createTaskResponse.root/b4p:taskMetaData/b4p:taskId" targetedBy="25333183-arg0"></mapper:vertice><mapper:vertice id="25333183" dimension="73x25" location="528,48"><mapper:value>concat()</mapper:value></mapper:vertice><mapper:vertice id="18747336" dimension="97x25" location="408,24" targetedBy="25333183-arg1"><mapper:value>b4px:create()</mapper:value></mapper:vertice><mapper:vertice id="7939314" sourcePath="$ode:pid" targetedBy="25333183-arg2"></mapper:vertice></mapper:mapperLink>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from>$createTaskRequest.root/b4p:taskMetaData/b4p:formUrl</bpel:from>
                        <bpel:to>$createTaskResponse.root/b4p:taskMetaData/b4p:formUrl</bpel:to><mapper:mapperLink><mapper:vertice id="3426744" targetPath="$createTaskResponse.root/b4p:taskMetaData/b4p:formUrl" targetedBy="485831-arg0"></mapper:vertice><mapper:vertice id="485831" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:formUrl"></mapper:vertice></mapper:mapperLink>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from>$createTaskRequest.root/b4p:taskMetaData/b4p:processId</bpel:from>
                        <bpel:to>$createTaskResponse.root/b4p:taskMetaData/b4p:processId</bpel:to><mapper:mapperLink><mapper:vertice id="27390338" targetPath="$createTaskResponse.root/b4p:taskMetaData/b4p:processId" targetedBy="12290232-arg0"></mapper:vertice><mapper:vertice id="12290232" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:processId"></mapper:vertice></mapper:mapperLink>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from>if (boolean(normalize-space($createTaskRequest.root/b4p:taskMetaData/b4p:scheduledActions/b4p:deferActivation/b4p:until))) then ($createTaskRequest.root/b4p:taskMetaData/b4p:scheduledActions/b4p:deferActivation/b4p:until) else (if (boolean(normalize-space($createTaskRequest.root/b4p:taskMetaData/b4p:scheduledActions/b4p:deferActivation/b4p:for))) then ((current-dateTime() + xs:yearMonthDuration(xs:duration($createTaskRequest.root/b4p:taskMetaData/b4p:scheduledActions/b4p:deferActivation/b4p:for))) + xs:dayTimeDuration(xs:duration($createTaskRequest.root/b4p:taskMetaData/b4p:scheduledActions/b4p:deferActivation/b4p:for))) else (current-dateTime()))</bpel:from>
                        <bpel:to>$createTaskResponse.root/b4p:taskMetaData/b4p:creationDate</bpel:to><mapper:mapperLink><mapper:vertice id="30616820" targetPath="$createTaskResponse.root/b4p:taskMetaData/b4p:creationDate" targetedBy="3887264-arg3"></mapper:vertice><mapper:vertice id="3887264" dimension="78x49" location="492,228"><mapper:value>if-then-else</mapper:value></mapper:vertice><mapper:vertice id="19686875" dimension="78x24" location="252,24" targetedBy="3887264-arg0"><mapper:value>boolean()</mapper:value></mapper:vertice><mapper:vertice id="30754110" dimension="78x24" location="144,24" targetedBy="19686875-arg0"><mapper:value>normalize-space()</mapper:value></mapper:vertice><mapper:vertice id="15903845" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:scheduledActions/b4p:deferActivation/b4p:until" targetedBy="30754110-arg0"></mapper:vertice><mapper:vertice id="11650302" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:scheduledActions/b4p:deferActivation/b4p:until" targetedBy="3887264-arg1"></mapper:vertice><mapper:vertice id="16522438" dimension="78x49" location="300,108" targetedBy="3887264-arg2"><mapper:value>if-then-else</mapper:value></mapper:vertice><mapper:vertice id="29694734" dimension="68x25" location="252,60" targetedBy="16522438-arg0"><mapper:value>boolean()</mapper:value></mapper:vertice><mapper:vertice id="33355699" dimension="78x24" location="144,60" targetedBy="29694734-arg0"><mapper:value>normalize-space()</mapper:value></mapper:vertice><mapper:vertice id="16785092" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:scheduledActions/b4p:deferActivation/b4p:for" targetedBy="33355699-arg0"></mapper:vertice><mapper:vertice id="14935490" dimension="78x24" location="252,240" targetedBy="16522438-arg1"><mapper:value>+</mapper:value></mapper:vertice><mapper:vertice id="83158" dimension="78x24" location="132,264" targetedBy="14935490-arg0"><mapper:value>+</mapper:value></mapper:vertice><mapper:vertice id="4334390" dimension="78x24" location="48,240" targetedBy="83158-arg0"><mapper:value>current-dateTime()</mapper:value></mapper:vertice><mapper:vertice id="1431133" dimension="78x24" location="48,276" targetedBy="83158-arg1"><mapper:value>xs:yearMonthDuration()</mapper:value></mapper:vertice><mapper:vertice id="28090585" dimension="78x24" location="12,312" targetedBy="1431133-arg0"><mapper:value>xs:duration()</mapper:value></mapper:vertice><mapper:vertice id="26408902" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:scheduledActions/b4p:deferActivation/b4p:for" targetedBy="28090585-arg0"></mapper:vertice><mapper:vertice id="29950884" dimension="78x24" location="216,324" targetedBy="14935490-arg1"><mapper:value>xs:dayTimeDuration()</mapper:value></mapper:vertice><mapper:vertice id="927424" dimension="78x24" location="119,332" targetedBy="29950884-arg0"><mapper:value>xs:duration()</mapper:value></mapper:vertice><mapper:vertice id="21646763" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:scheduledActions/b4p:deferActivation/b4p:for" targetedBy="927424-arg0"></mapper:vertice><mapper:vertice id="3093337" dimension="119x24" location="96,144" targetedBy="16522438-arg2"><mapper:value>current-dateTime()</mapper:value></mapper:vertice></mapper:mapperLink>
                    </bpel:copy>
                </bpdm:linkset>
                <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="reply" bpdm:messageVariable="createTaskResponse" bpdm:msgVarScopeId="_opUVQKdvEdyId4P63ChZuw" bpdm:variableIsManaged="true" bpdm:messageType="b4p:createTaskResponse" bpdm:ID="_mexB4KdyEdyId4P63ChZuw">
                    <bpel:correlation set="task" initiate="yes" bpdm:isSource="false"></bpel:correlation>
                </bpdm:linkset>
            </bpdm:messagingtask>
            <bpdm:gateway bpdm:label="Exclusive_Data-based_Gateway" bpdm:ID="_MW3YoLD5Edy6MtvbqSLrQw" bpdm:gatewayType="data_xor" bpdm:isMerge="false">
                <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_OkmbgLD5Edy6MtvbqSLrQw" bpdm:targetDisplayName="[GatewayDataBasedExclusive - defer Activation until a date]">
                    <bpel:condition>boolean(normalize-space($createTaskRequest.root/b4p:taskMetaData/b4p:scheduledActions/b4p:deferActivation/b4p:until))<mapper:mapperLink><mapper:vertice id="14191641" targetPath="$condition" targetedBy="23436716-arg0"></mapper:vertice><mapper:vertice id="23436716" dimension="73x25" location="312,36"><mapper:value>boolean()</mapper:value></mapper:vertice><mapper:vertice id="494963" dimension="121x25" location="24,36" targetedBy="23436716-arg1"><mapper:value>normalize-space()</mapper:value></mapper:vertice><mapper:vertice id="1392728" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:scheduledActions/b4p:deferActivation/b4p:until" targetedBy="494963-arg0"></mapper:vertice></mapper:mapperLink></bpel:condition>
                </bpdm:linkset>
                <bpdm:linkset bpdm:type="case" bpdm:default="true" bpdm:ID="_RMlxcLD5Edy6MtvbqSLrQw" bpdm:targetDisplayName="default"></bpdm:linkset>
                <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_R_As4LD5Edy6MtvbqSLrQw" bpdm:targetDisplayName="[GatewayDataBasedExclusive - defer activation for a duration]">
                    <bpel:condition>boolean(normalize-space($createTaskRequest.root/b4p:taskMetaData/b4p:scheduledActions/b4p:deferActivation/b4p:for))<mapper:mapperLink><mapper:vertice id="29114648" targetPath="$condition" targetedBy="29687652-arg0"></mapper:vertice><mapper:vertice id="29687652" dimension="85x25" location="336,24"><mapper:value>boolean()</mapper:value></mapper:vertice><mapper:vertice id="812294" dimension="121x25" location="84,24" targetedBy="29687652-arg1"><mapper:value>normalize-space()</mapper:value></mapper:vertice><mapper:vertice id="5213080" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:scheduledActions/b4p:deferActivation/b4p:for" targetedBy="812294-arg0"></mapper:vertice></mapper:mapperLink></bpel:condition>
                </bpdm:linkset>
                <bpel:sequence>
                    <bpdm:messagingtask eventType="intermediate: timer" bpdm:label="defer Activation until a date" bpdm:ID="_OjQXsLD5Edy6MtvbqSLrQw">
                        <bpdm:linkset bpdm:type="timer">
                            <bpel:until>$createTaskRequest.root/b4p:taskMetaData/b4p:scheduledActions/b4p:deferActivation/b4p:until<mapper:mapperLink><mapper:vertice id="28123363" targetPath="$date" targetedBy="5773300-arg0"></mapper:vertice><mapper:vertice id="5773300" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:scheduledActions/b4p:deferActivation/b4p:until"></mapper:vertice></mapper:mapperLink></bpel:until>
                        </bpdm:linkset>
                    </bpdm:messagingtask>
                </bpel:sequence>
                <bpel:sequence></bpel:sequence>
                <bpel:sequence>
                    <bpdm:messagingtask eventType="intermediate: timer" bpdm:label="defer activation for a duration" bpdm:ID="_R9Y8QLD5Edy6MtvbqSLrQw">
                        <bpdm:linkset bpdm:type="timer">
                            <bpel:for>$createTaskRequest.root/b4p:taskMetaData/b4p:scheduledActions/b4p:deferActivation/b4p:for<mapper:mapperLink><mapper:vertice id="28569269" targetPath="$duration" targetedBy="22122226-arg0"></mapper:vertice><mapper:vertice id="22122226" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:scheduledActions/b4p:deferActivation/b4p:for"></mapper:vertice></mapper:mapperLink></bpel:for>
                        </bpdm:linkset>
                    </bpdm:messagingtask>
                </bpel:sequence>
            </bpdm:gateway>
            <bpdm:gateway bpdm:label="Exclusive_Data-based_Gateway" bpdm:ID="_QOOEsLD5Edy6MtvbqSLrQw" bpdm:gatewayType="data_xor" bpdm:isMerge="true"></bpdm:gateway>
            <bpdm:messagingtask bpdm:label="Prepare creation Task in Database" bpdm:ID="_Yppk0Kd1EdyId4P63ChZuw">
                <bpdm:linkset bpdm:type="assignments">
                    <bpel:copy>
                        <bpel:from>"activity"</bpel:from>
                        <bpel:to>$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:taskType</bpel:to><mapper:mapperLink><mapper:vertice id="10847727" targetPath="$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:taskType" targetedBy="18819295-arg0"></mapper:vertice><mapper:vertice id="18819295" dimension="63x29" location="336,152"><mapper:value>"activity"</mapper:value></mapper:vertice></mapper:mapperLink>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from>$createTaskResponse.root/b4p:taskMetaData/b4p:taskId</bpel:from>
                        <bpel:to>$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:taskId</bpel:to><mapper:mapperLink><mapper:vertice id="5519903" targetPath="$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:taskId" targetedBy="28854525-arg0"></mapper:vertice><mapper:vertice id="28854525" sourcePath="$createTaskResponse.root/b4p:taskMetaData/b4p:taskId"></mapper:vertice></mapper:mapperLink>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from>$createTaskRequest.root/b4p:taskMetaData/b4p:description</bpel:from>
                        <bpel:to>$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:description</bpel:to><mapper:mapperLink><mapper:vertice id="23032903" targetPath="$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:description" targetedBy="19380362-arg0"></mapper:vertice><mapper:vertice id="19380362" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:description"></mapper:vertice></mapper:mapperLink>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from>$createTaskRequest.root/b4p:taskMetaData/b4p:processId</bpel:from>
                        <bpel:to>$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:processId</bpel:to><mapper:mapperLink><mapper:vertice id="29690217" targetPath="$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:processId" targetedBy="7299791-arg0"></mapper:vertice><mapper:vertice id="7299791" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:processId"></mapper:vertice></mapper:mapperLink>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from>bpel:doXslTransform("userRoleOwner.xsl", $createTMSTaskRequest.createRequest, "metadata", $createTaskRequest.root/b4p:taskMetaData)</bpel:from>
                        <bpel:to>$createTMSTaskRequest.createRequest</bpel:to><mapper:mapperLink><mapper:vertice id="29585528" targetPath="$createTMSTaskRequest.createRequest" targetedBy="7100295-arg4"></mapper:vertice><mapper:vertice id="7100295" dimension="169x49" location="192,72"><mapper:value>bpel:doXslTransform()</mapper:value></mapper:vertice><mapper:vertice id="8974573" dimension="109x25" location="60,12" targetedBy="7100295-arg0"><mapper:value>"userRoleOwner.xsl"</mapper:value></mapper:vertice><mapper:vertice id="18614373" sourcePath="$createTMSTaskRequest.createRequest" targetedBy="7100295-arg1"></mapper:vertice><mapper:vertice id="25114679" dimension="85x25" location="36,84" targetedBy="7100295-arg2"><mapper:value>"metadata"</mapper:value></mapper:vertice><mapper:vertice id="25389985" sourcePath="$createTaskRequest.root/b4p:taskMetaData" targetedBy="7100295-arg3"></mapper:vertice></mapper:mapperLink>
                    </bpel:copy>
                </bpdm:linkset>
            </bpdm:messagingtask>
            <bpdm:gateway bpdm:label="Exclusive_Data-based_Gateway" bpdm:ID="_R2QYoMMEEdyCWZdoTEFyaQ" bpdm:gatewayType="data_xor" bpdm:isMerge="false">
                <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_W9EhcMMEEdyCWZdoTEFyaQ" bpdm:targetDisplayName="[GatewayDataBasedExclusive - Calculate deadline if date is specified]">
                    <bpel:condition>boolean(normalize-space($createTaskRequest.root/b4p:taskMetaData/b4p:scheduledActions/b4p:expiration/b4p:until))<mapper:mapperLink><mapper:vertice id="18915026" targetPath="$condition" targetedBy="2142224-arg1"></mapper:vertice><mapper:vertice id="2142224" dimension="78x27" location="199,34"><mapper:value>boolean()</mapper:value></mapper:vertice><mapper:vertice id="18802862" dimension="130x30" location="51,31" targetedBy="2142224-arg0"><mapper:value>normalize-space()</mapper:value></mapper:vertice><mapper:vertice id="29028783" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:scheduledActions/b4p:expiration/b4p:until" targetedBy="18802862-arg0"></mapper:vertice></mapper:mapperLink></bpel:condition>
                </bpdm:linkset>
                <bpdm:linkset bpdm:type="case" bpdm:default="true" bpdm:ID="_5y4H8MSfEdyOLLhtllRYzQ" bpdm:targetDisplayName="default"></bpdm:linkset>
                <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_ceoskMMEEdyCWZdoTEFyaQ" bpdm:targetDisplayName="[GatewayDataBasedExclusive - Calculate deadline if duration  is specified]">
                    <bpel:condition>boolean(normalize-space($createTaskRequest.root/b4p:taskMetaData/b4p:scheduledActions/b4p:expiration/b4p:for))<mapper:mapperLink><mapper:vertice id="27700965" targetPath="$condition" targetedBy="27196812-arg1"></mapper:vertice><mapper:vertice id="27196812" dimension="85x25" location="276,36"><mapper:value>boolean()</mapper:value></mapper:vertice><mapper:vertice id="16316450" dimension="117x24" location="64,37" targetedBy="27196812-arg0"><mapper:value>normalize-space()</mapper:value></mapper:vertice><mapper:vertice id="20973077" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:scheduledActions/b4p:expiration/b4p:for" targetedBy="16316450-arg0"></mapper:vertice></mapper:mapperLink></bpel:condition>
                </bpdm:linkset>
                <bpel:sequence>
                    <bpdm:messagingtask bpdm:label="Calculate deadline if date is specified" bpdm:ID="_T6VwQMMEEdyCWZdoTEFyaQ">
                        <bpdm:linkset bpdm:type="assignments">
                            <bpel:copy>
                                <bpel:from>$createTaskRequest.root/b4p:taskMetaData/b4p:scheduledActions/b4p:expiration/b4p:until</bpel:from>
                                <bpel:to>$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:deadline</bpel:to><mapper:mapperLink><mapper:vertice id="17196625" targetPath="$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:deadline" targetedBy="21162365-arg0"></mapper:vertice><mapper:vertice id="21162365" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:scheduledActions/b4p:expiration/b4p:until"></mapper:vertice></mapper:mapperLink>
                            </bpel:copy>
                        </bpdm:linkset>
                    </bpdm:messagingtask>
                </bpel:sequence>
                <bpel:sequence></bpel:sequence>
                <bpel:sequence>
                    <bpdm:messagingtask bpdm:label="Calculate deadline if duration  is specified" bpdm:ID="_WRDI8MMEEdyCWZdoTEFyaQ">
                        <bpdm:linkset bpdm:type="assignments">
                            <bpel:copy>
                                <bpel:from>(current-dateTime() + xs:dayTimeDuration(xs:duration($createTaskRequest.root/b4p:taskMetaData/b4p:scheduledActions/b4p:expiration/b4p:for))) + xs:yearMonthDuration(xs:duration($createTaskRequest.root/b4p:taskMetaData/b4p:scheduledActions/b4p:expiration/b4p:for))</bpel:from>
                                <bpel:to>$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:deadline</bpel:to><mapper:mapperLink><mapper:vertice id="11758376" targetPath="$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:deadline" targetedBy="32567341-arg2"></mapper:vertice><mapper:vertice id="32567341" dimension="25x25" location="456,168"><mapper:value>+</mapper:value></mapper:vertice><mapper:vertice id="20985192" dimension="25x25" location="372,96" targetedBy="32567341-arg0"><mapper:value>+</mapper:value></mapper:vertice><mapper:vertice id="1996457" dimension="109x25" location="228,24" targetedBy="20985192-arg0"><mapper:value>current-dateTime()</mapper:value></mapper:vertice><mapper:vertice id="27117" dimension="145x25" location="204,240" targetedBy="20985192-arg1"><mapper:value>xs:dayTimeDuration()</mapper:value></mapper:vertice><mapper:vertice id="19552004" dimension="97x24" location="84,300" targetedBy="27117-arg0"><mapper:value>xs:duration()</mapper:value></mapper:vertice><mapper:vertice id="1982757" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:scheduledActions/b4p:expiration/b4p:for" targetedBy="19552004-arg0"></mapper:vertice><mapper:vertice id="4649089" dimension="169x34" location="240,399" targetedBy="32567341-arg1"><mapper:value>xs:yearMonthDuration()</mapper:value></mapper:vertice><mapper:vertice id="22535081" dimension="97x24" location="84,432" targetedBy="4649089-arg0"><mapper:value>xs:duration()</mapper:value></mapper:vertice><mapper:vertice id="14481550" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:scheduledActions/b4p:expiration/b4p:for" targetedBy="22535081-arg0"></mapper:vertice></mapper:mapperLink>
                            </bpel:copy>
                        </bpdm:linkset>
                    </bpdm:messagingtask>
                </bpel:sequence>
            </bpdm:gateway>
            <bpdm:gateway bpdm:label="Exclusive_Data-based_Gateway" bpdm:ID="_SsT24MMEEdyCWZdoTEFyaQ" bpdm:gatewayType="data_xor" bpdm:isMerge="true"></bpdm:gateway>
            <bpel:scope bpdm:label="SubProcess" bpdm:ID="_qCKssG7fEd2I0ZzPPBs2Wg">
                <bpel:faultHandlers>
                    <bpel:catchAll>
                        <bpdm:eventHandler bpdm:label="Error_Intermediate_Event" bpdm:ID="_tmJw0G7fEd2I0ZzPPBs2Wg" bpdm:type="error"></bpdm:eventHandler>
                        <bpdm:messagingtask eventType="end: empty" bpdm:label="Empty_End_Event" bpdm:ID="_uIRmcG7fEd2I0ZzPPBs2Wg"></bpdm:messagingtask>
                    </bpel:catchAll>
                </bpel:faultHandlers>
                <bpel:sequence>
                    <bpdm:messagingtask bpdm:label="Pass Attachments" bpdm:ID="_qC6TkG7fEd2I0ZzPPBs2Wg">
                        <bpdm:linkset bpdm:type="assignments">
                            <bpel:copy ignoreMissingFromData="yes">
                                <bpel:from>$createTaskRequest.root/b4p:taskMetaData/b4p:attachments</bpel:from>
                                <bpel:to>$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:attachments</bpel:to><mapper:mapperLink><mapper:vertice id="33541912" targetPath="$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:attachments" targetedBy="19481553-arg0"></mapper:vertice><mapper:vertice id="19481553" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:attachments"></mapper:vertice></mapper:mapperLink>
                            </bpel:copy>
                        </bpdm:linkset>
                    </bpdm:messagingtask>
                </bpel:sequence>
            </bpel:scope>
            <bpdm:messagingtask operation="create" partnerLink="taskManagementProcessAndTaskManagementSystemForPortTaskManagementServicesSOAPPlkVar" portType="tns:TaskManagementServices" isMyRole="false" enableSharing="false" bpdm:label="Create Task in Database" bpdm:ID="_jiUMsKgTEdylDI4yblkdQQ">
                <bpdm:linkset bpdm:type="assignments">
                    <bpel:copy>
                        <bpel:from>bpel:doXslTransform("actions.xsl", $createTMSTaskRequest.createRequest, "metadata", $createTaskRequest.root/b4p:taskMetaData)</bpel:from>
                        <bpel:to>$createTMSTaskRequest.createRequest</bpel:to><mapper:mapperLink><mapper:vertice id="20160054" targetPath="$createTMSTaskRequest.createRequest" targetedBy="12604039-arg4"></mapper:vertice><mapper:vertice id="12604039" dimension="121x25" location="204,60"><mapper:value>bpel:doXslTransform()</mapper:value></mapper:vertice><mapper:vertice id="23796187" dimension="73x25" location="132,12" targetedBy="12604039-arg0"><mapper:value>"actions.xsl"</mapper:value></mapper:vertice><mapper:vertice id="14872045" sourcePath="$createTMSTaskRequest.createRequest" targetedBy="12604039-arg1"></mapper:vertice><mapper:vertice id="17332756" dimension="73x25" location="24,60" targetedBy="12604039-arg2"><mapper:value>"metadata"</mapper:value></mapper:vertice><mapper:vertice id="28560760" sourcePath="$createTaskRequest.root/b4p:taskMetaData" targetedBy="12604039-arg3"></mapper:vertice></mapper:mapperLink>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from>$createTaskRequest.root/b4p:taskMetaData/b4p:formUrl</bpel:from>
                        <bpel:to>$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:formUrl</bpel:to><mapper:mapperLink><mapper:vertice id="7558688" targetPath="$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:formUrl" targetedBy="15494790-arg0"></mapper:vertice><mapper:vertice id="15494790" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:formUrl"></mapper:vertice></mapper:mapperLink>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from>$createTaskRequest.root/b4p:taskMetaData/b4p:userProcessCompleteSOAPAction</bpel:from>
                        <bpel:to>$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:userProcessCompleteSOAPAction</bpel:to><mapper:mapperLink><mapper:vertice id="15283784" targetPath="$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:userProcessCompleteSOAPAction" targetedBy="15890703-arg0"></mapper:vertice><mapper:vertice id="15890703" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:userProcessCompleteSOAPAction"></mapper:vertice></mapper:mapperLink>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from>"activity"</bpel:from>
                        <bpel:to>$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:taskType</bpel:to><mapper:mapperLink><mapper:vertice id="23194050" targetPath="$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:taskType" targetedBy="10870969-arg0"></mapper:vertice><mapper:vertice id="10870969" dimension="73x25" location="132,192"><mapper:value>"activity"</mapper:value></mapper:vertice></mapper:mapperLink>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from>if (boolean(normalize-space($createTaskRequest.root/b4p:taskMetaData/b4p:priority))) then ($createTaskRequest.root/b4p:taskMetaData/b4p:priority) else ("")</bpel:from>
                        <bpel:to>$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:priority</bpel:to><mapper:mapperLink><mapper:vertice id="32897373" targetPath="$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:priority" targetedBy="10467564-arg2"></mapper:vertice><mapper:vertice id="10467564" dimension="97x25" location="420,312"><mapper:value>if-then-else</mapper:value></mapper:vertice><mapper:vertice id="29774830" dimension="64x25" location="360,252" targetedBy="10467564-arg0"><mapper:value>boolean()</mapper:value></mapper:vertice><mapper:vertice id="18733613" dimension="133x25" location="204,252" targetedBy="29774830-arg0"><mapper:value>normalize-space()</mapper:value></mapper:vertice><mapper:vertice id="11161688" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:priority" targetedBy="18733613-arg0"></mapper:vertice><mapper:vertice id="28670022" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:priority" targetedBy="10467564-arg1"></mapper:vertice><mapper:vertice id="15416983" dimension="64x16" location="336,348" targetedBy="10467564-arg3"><mapper:value>""</mapper:value></mapper:vertice></mapper:mapperLink>
                    </bpel:copy>
                    <bpel:copy ignoreMissingFromData="yes">
                        <bpel:from>$createTaskRequest.root/b4p:taskMetaData/b4p:creationDate/text()</bpel:from>
                        <bpel:to>$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:creationDate</bpel:to><mapper:mapperLink><mapper:vertice id="12101629" targetPath="$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:creationDate" targetedBy="15686129-arg0"></mapper:vertice><mapper:vertice id="15686129" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:creationDate/text()"></mapper:vertice></mapper:mapperLink>
                    </bpel:copy>
                    <bpel:copy>
                        <bpel:from>$createTaskRequest.root/b4p:taskInput</bpel:from>
                        <bpel:to>$createTMSTaskRequest.createRequest/tns:task/tns:output</bpel:to><mapper:mapperLink><mapper:vertice id="29815952" targetPath="$createTMSTaskRequest.createRequest/tns:task/tns:output" targetedBy="7613510-arg0"></mapper:vertice><mapper:vertice id="7613510" sourcePath="$createTaskRequest.root/b4p:taskInput"></mapper:vertice></mapper:mapperLink>
                    </bpel:copy>
                </bpdm:linkset>
                <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="createTMSTaskRequest" bpdm:msgVarScopeId="_opUVQKdvEdyId4P63ChZuw" bpdm:variableIsManaged="true" bpdm:messageType="tns:createRequest" bpdm:ID="_CbjKsKgUEdylDI4yblkdQQ"></bpdm:linkset>
                <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="createTMSTaskResponse" bpdm:msgVarScopeId="_opUVQKdvEdyId4P63ChZuw" bpdm:variableIsManaged="true" bpdm:messageType="tns:okResponse" bpdm:ID="_CtOJgKgUEdylDI4yblkdQQ"></bpdm:linkset>
                <bpdm:thrownFault msgFaultNcName="InvalidParticipantToken" msgFaultTypeQname="tns:invalidParticipantTokenFault"/>
                <bpdm:thrownFault msgFaultNcName="InvalidInputMessage" msgFaultTypeQname="tns:invalidInputMessageFault"/>
                <bpdm:thrownFault msgFaultNcName="AccessDenied" msgFaultTypeQname="tns:accessDeniedFault"/>
            </bpdm:messagingtask>
            <bpdm:gateway bpdm:label="Chained before?" bpdm:ID="_Bfj4AKgeEdylDI4yblkdQQ" bpdm:gatewayType="data_xor" bpdm:isMerge="false">
                <bpdm:linkset bpdm:type="case" bpdm:default="true" bpdm:ID="_0UKRsNs2EdySXq5rIowrdw" bpdm:targetDisplayName="default"></bpdm:linkset>
                <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_DksYgKgeEdylDI4yblkdQQ" bpdm:targetDisplayName="Yes">
                    <bpel:condition>$createTaskRequest.root/b4p:taskMetaData/b4p:isChainedBefore/text() = "true"<mapper:mapperLink><mapper:vertice id="23982369" targetPath="$condition" targetedBy="5520972-arg2"></mapper:vertice><mapper:vertice id="5520972" dimension="64x16" location="325,23"><mapper:value>=</mapper:value></mapper:vertice><mapper:vertice id="5319836" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:isChainedBefore/text()" targetedBy="5520972-arg0"></mapper:vertice><mapper:vertice id="16655699" dimension="64x16" location="108,24" targetedBy="5520972-arg1"><mapper:value>"true"</mapper:value></mapper:vertice></mapper:mapperLink></bpel:condition>
                </bpdm:linkset>
                <bpel:sequence></bpel:sequence>
                <bpel:sequence>
                    <bpdm:messagingtask operation="nextTaskReady" partnerLink="taskManagementProcessAndPreviousProcessTaskManagerForTMPPortPlkVar" portType="b4p:TMPPortType" isMyRole="false" enableSharing="false" bpdm:label="Notify previous Task Manager" bpdm:ID="_DkaEoKgeEdylDI4yblkdQQ">
                        <bpdm:linkset bpdm:type="assignments">
                            <bpel:copy>
                                <bpel:from>$createTaskRequest.root/b4p:taskMetaData/b4p:previousTaskId</bpel:from>
                                <bpel:to>$b4pNextTaskReadyMsg.root/b4p:previousTaskId</bpel:to><mapper:mapperLink><mapper:vertice id="8494286" targetPath="$b4pNextTaskReadyMsg.root/b4p:previousTaskId" targetedBy="31325532-arg0"></mapper:vertice><mapper:vertice id="31325532" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:previousTaskId"></mapper:vertice></mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>$createTaskRequest.root/b4p:taskMetaData/b4p:formUrl</bpel:from>
                                <bpel:to>$b4pNextTaskReadyMsg.root/b4p:nextTaskURL</bpel:to><mapper:mapperLink><mapper:vertice id="11170681" targetPath="$b4pNextTaskReadyMsg.root/b4p:nextTaskURL" targetedBy="2724472-arg0"></mapper:vertice><mapper:vertice id="2724472" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:formUrl"></mapper:vertice></mapper:mapperLink>
                            </bpel:copy>
                            <bpel:copy>
                                <bpel:from>$createTaskResponse.root/b4p:taskMetaData/b4p:taskId</bpel:from>
                                <bpel:to>$b4pNextTaskReadyMsg.root/b4p:nextTaskId</bpel:to><mapper:mapperLink><mapper:vertice id="20843603" targetPath="$b4pNextTaskReadyMsg.root/b4p:nextTaskId" targetedBy="682793-arg0"></mapper:vertice><mapper:vertice id="682793" sourcePath="$createTaskResponse.root/b4p:taskMetaData/b4p:taskId"></mapper:vertice></mapper:mapperLink>
                            </bpel:copy>
                        </bpdm:linkset>
                        <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="b4pNextTaskReadyMsg" bpdm:msgVarScopeId="_opUVQKdvEdyId4P63ChZuw" bpdm:variableIsManaged="true" bpdm:messageType="b4p:nextTaskReady" bpdm:binding="b4p:TMPBinding" bpdm:ID="_VVMlsKgeEdylDI4yblkdQQ"></bpdm:linkset>
                    </bpdm:messagingtask>
                </bpel:sequence>
            </bpdm:gateway>
            <bpdm:gateway bpdm:label="Exclusive_Data-based_Gateway" bpdm:ID="_XFgswKgeEdylDI4yblkdQQ" bpdm:gatewayType="data_xor" bpdm:isMerge="true"></bpdm:gateway>
            <bpel:scope bpdm:label="SubProcess" bpdm:ID="_TbKiIKhDEdyQFMjeTyvJzg">
                <bpdm:linkset bpdm:type="loop" bpdm:loopType="while">
                    <bpel:condition bpdm:loopType="while">not($taskCompleted)<mapper:mapperLink><mapper:vertice id="24493897" targetPath="$while" targetedBy="6317124-arg0"></mapper:vertice><mapper:vertice id="6317124" dimension="64x16" location="132,48"><mapper:value>not()</mapper:value></mapper:vertice><mapper:vertice id="24337880" sourcePath="$taskCompleted" targetedBy="6317124-arg1"></mapper:vertice></mapper:mapperLink></bpel:condition>
                </bpdm:linkset>
                <bpel:variables>
                    <bpel:variable name="tnsReassignRequestMsg" messageType="tns:reassignRequest" bpdm:id="_xaMS8KhJEdyQFMjeTyvJzg" bpdm:messageIds=" out:_qnzFIKklEdyFPr8ebhWveQ,_HuAjIKkiEdyFPr8ebhWveQ,_xZtKwKhJEdyQFMjeTyvJzg">
                        <bpel:from bpdm:toPart="reassignRequest">
                            <bpel:literal bpdm:linkedMessageType="tns:reassignRequest" bpdm:linkedPart="reassignRequest"></bpel:literal>
                        </bpel:from>
                    </bpel:variable>
                    <bpel:variable name="tnsReassignResponseMsg" messageType="tns:okResponse" bpdm:id="_1Jz_V6hJEdyQFMjeTyvJzg" bpdm:messageIds="inc:_IEE5wKkiEdyFPr8ebhWveQ,_rU-UMKklEdyFPr8ebhWveQ,_1IFhAKhJEdyQFMjeTyvJzg"/>
                    <bpel:variable name="completeTaskRequest" messageType="b4p:completeTaskRequest" bpdm:id="_KKutB6hNEdyQFMjeTyvJzg" bpdm:messageIds="inc:_KJTJoKhNEdyQFMjeTyvJzg"/>
                    <bpel:variable name="completeTMSTaskRequest" messageType="tns:setOutputAndCompleteRequest" bpdm:id="_UWdrwKhOEdyQFMjeTyvJzg" bpdm:messageIds=" out:_B31NQKhOEdyQFMjeTyvJzg">
                        <bpel:from bpdm:toPart="setOutputAndCompleteRequest">
                            <bpel:literal bpdm:linkedMessageType="tns:setOutputAndCompleteRequest" bpdm:linkedPart="setOutputAndCompleteRequest"></bpel:literal>
                        </bpel:from>
                    </bpel:variable>
                    <bpel:variable name="completeTMSTaskResponse" messageType="tns:okResponse" bpdm:id="_UnRu96hOEdyQFMjeTyvJzg" bpdm:messageIds="inc:_ChX5gKhOEdyQFMjeTyvJzg"/>
                    <bpel:variable name="completeTaskResponse" messageType="b4p:completeTaskResponse" bpdm:id="_2zkYIKhZEdyXuZws7kaYiQ" bpdm:messageIds=" out:_2yhPQKhZEdyXuZws7kaYiQ">
                        <bpel:from bpdm:toPart="root">
                            <bpel:literal bpdm:linkedMessageType="b4p:completeTaskResponse" bpdm:linkedPart="root" bpdm:linkedFile="completeTaskResponse.root-_opUVQKdvEdyId4P63ChZuw-0-literal.xml"></bpel:literal>
                        </bpel:from>
                    </bpel:variable>
                    <bpel:variable name="claimTaskRequest" messageType="b4p:claimTaskRequest" bpdm:id="_3y6TB6kOEdyRnIK1kDiFhA" bpdm:messageIds="inc:_3x9QwKkOEdyRnIK1kDiFhA"/>
                    <bpel:variable name="claimTaskResponse" messageType="b4p:claimTaskResponse" bpdm:id="_mpu_AKkjEdyFPr8ebhWveQ" bpdm:messageIds=" out:_mpEQoKkjEdyFPr8ebhWveQ">
                        <bpel:from bpdm:toPart="root">
                            <bpel:literal bpdm:linkedMessageType="b4p:claimTaskResponse" bpdm:linkedPart="root"></bpel:literal>
                        </bpel:from>
                    </bpel:variable>
                    <bpel:variable name="revokeTaskRequest" messageType="b4p:revokeTaskRequest" bpdm:id="_HMHsIKkkEdyFPr8ebhWveQ" bpdm:messageIds="inc:_HKTuQKkkEdyFPr8ebhWveQ"/>
                    <bpel:variable name="revokeTaskResponse" messageType="b4p:revokeTaskResponse" bpdm:id="_NJfXkKkmEdyFPr8ebhWveQ" bpdm:messageIds=" out:_NIuikKkmEdyFPr8ebhWveQ">
                        <bpel:from bpdm:toPart="root">
                            <bpel:literal bpdm:linkedMessageType="b4p:revokeTaskResponse" bpdm:linkedPart="root"></bpel:literal>
                        </bpel:from>
                    </bpel:variable>
                    <bpel:variable name="escalateTaskRequest" messageType="b4p:escalateTaskRequest" bpdm:id="_xBl3Nq2jEdyByaehtXUpTg" bpdm:messageIds="inc:_LLicAKhIEdyQFMjeTyvJzg"/>
                    <bpel:variable name="escalateTaskResponse" messageType="b4p:escalateTaskResponse" bpdm:id="_yCn2YK2jEdyByaehtXUpTg" bpdm:messageIds=" out:_P3LH4KhMEdyQFMjeTyvJzg">
                        <bpel:from bpdm:toPart="root">
                            <bpel:literal bpdm:linkedMessageType="b4p:escalateTaskResponse" bpdm:linkedPart="root"></bpel:literal>
                        </bpel:from>
                    </bpel:variable>
                    <bpel:variable name="notifyTaskCompletionResponse" messageType="UserBusinessProcess1:notifyTaskCompletionResponse" bpdm:id="_9JYIZ62jEdyByaehtXUpTg" bpdm:messageIds="inc:_HsnH8KhREdyQFMjeTyvJzg"/>
                    <bpel:variable name="notifyTaskCompletionRequest" messageType="UserBusinessProcess1:notifyTaskCompletionRequest" bpdm:id="_8oVQ0K2jEdyByaehtXUpTg" bpdm:messageIds=" out:_HM_zwKhREdyQFMjeTyvJzg">
                        <bpel:from bpdm:toPart="root">
                            <bpel:literal bpdm:linkedMessageType="UserBusinessProcess1:notifyTaskCompletionRequest" bpdm:linkedPart="root" bpdm:linkedFile="notifyTaskCompletionRequest.root-_opUVQKdvEdyId4P63ChZuw-0-literal.xml"></bpel:literal>
                        </bpel:from>
                    </bpel:variable>
                    <bpel:variable name="tnsGetAttachmentsRequestMsg" messageType="tns:getAttachmentsRequest" binding="tns:TaskManagementServicesSOAP" operation="getAttachments" opMsgType="0" bpdm:id="__WMPIGmpEd2XUv0nLeGoVg" bpdm:messageIds=" out:_-Y_gsGmhEd2FXpqqOgbHYQ">
                        <bpel:from bpdm:toPart="getAttachmentsRequest">
                            <bpel:literal bpdm:linkedMessageType="tns:getAttachmentsRequest" bpdm:linkedPart="getAttachmentsRequest" bpdm:binding="tns:TaskManagementServicesSOAP" bpdm:opMsgType="0" bpdm:operation="getAttachments" bpdm:linkedFile="getAttachmentsRequest.getAttachmentsRequest-_opUVQKdvEdyId4P63ChZuw-0-literal.xml"></bpel:literal>
                        </bpel:from>
                    </bpel:variable>
                    <bpel:variable name="tnsGetAttachmentsResponseMsg" messageType="tns:getAttachmentsResponse" binding="tns:TaskManagementServicesSOAP" operation="getAttachments" opMsgType="1" bpdm:id="_Aw7u12mqEd2XUv0nLeGoVg" bpdm:messageIds="inc:_AaCLYGmiEd2FXpqqOgbHYQ"/>
                    <bpel:variable name="TMSskipRequest" messageType="tns:skipRequest" binding="tns:TaskManagementServicesSOAP" operation="skip" opMsgType="0" bpdm:id="_DRv_0HB7Ed2pTYDSDTVx7Q" bpdm:messageIds=" out:_oaISkHB5Ed2pTYDSDTVx7Q">
                        <bpel:from bpdm:toPart="skipRequest">
                            <bpel:literal bpdm:linkedMessageType="tns:skipRequest" bpdm:linkedPart="skipRequest" bpdm:binding="tns:TaskManagementServicesSOAP" bpdm:opMsgType="0" bpdm:operation="skip"></bpel:literal>
                        </bpel:from>
                    </bpel:variable>
                    <bpel:variable name="TMSskipResponse" messageType="tns:okResponse" binding="tns:TaskManagementServicesSOAP" operation="skip" opMsgType="1" bpdm:id="_HKdWwHB7Ed2pTYDSDTVx7Q" bpdm:messageIds="inc:_tOI0IHB5Ed2pTYDSDTVx7Q"/>
                    <bpel:variable name="b4pSkipTaskRequestMsg" messageType="b4p:skipTaskRequest" binding="b4p:UserBusinessProcessBinding" operation="skipTask" opMsgType="0" bpdm:id="_W8YqcNCOEd2PqpECnZITmw" bpdm:messageIds="inc:_FsOJEHB5Ed2pTYDSDTVx7Q"/>
                    <bpel:variable name="b4pSkipTaskResponseMsg" messageType="b4p:skipTaskResponse" binding="b4p:UserBusinessProcessBinding" operation="skipTask" opMsgType="1" bpdm:id="_YpfsgNCOEd2PqpECnZITmw" bpdm:messageIds=" out:_NsjAMHB6Ed2pTYDSDTVx7Q">
                        <bpel:from bpdm:toPart="root">
                            <bpel:literal bpdm:linkedMessageType="b4p:skipTaskResponse" bpdm:linkedPart="root" bpdm:binding="b4p:UserBusinessProcessBinding" bpdm:opMsgType="1" bpdm:operation="skipTask"></bpel:literal>
                        </bpel:from>
                    </bpel:variable>
                    <bpel:variable name="b4pNextTaskReadyMsg" messageType="b4p:nextTaskReady" bpdm:id="_vnk3YAGaEd6CLNy4DDKnXw" bpdm:messageIds="inc:_ejTZkKhWEdyQFMjeTyvJzg"/>
                </bpel:variables>
                <bpel:faultHandlers>
                    <bpel:catch faultName="this:DeadlineReached">
                        <bpdm:eventHandler bpdm:label="Deadline Handler" bpdm:ID="_tZQ68MUjEdyOLLhtllRYzQ" bpdm:type="error" faultName="this:DeadlineReached"></bpdm:eventHandler>
                        <bpel:scope bpdm:label="SubProcess" bpdm:ID="_3Ct-YLEgEdy6MtvbqSLrQw">
                            <bpel:variables>
                                <bpel:variable name="tnsFailResponseMsg" messageType="tns:okResponse" bpdm:messageIds="inc:_uEBIkMI4EdyR9_IVnPh8Pg"/>
                                <bpel:variable name="tnsFailRequestMsg" messageType="tns:failRequest" bpdm:messageIds=" out:_tsnVMMI4EdyR9_IVnPh8Pg">
                                    <bpel:from bpdm:toPart="failRequest">
                                        <bpel:literal bpdm:linkedMessageType="tns:failRequest" bpdm:linkedPart="failRequest"></bpel:literal>
                                    </bpel:from>
                                </bpel:variable>
                                <bpel:variable name="userBusinessProcess1NotifyTaskCompletionResponseMsg" messageType="UserBusinessProcess1:notifyTaskCompletionResponse" bpdm:messageIds="inc:_nMt2IMLTEdyR9_IVnPh8Pg"/>
                                <bpel:variable name="userBusinessProcess1NotifyTaskCompletionRequestMsg" messageType="UserBusinessProcess1:notifyTaskCompletionRequest" bpdm:messageIds=" out:_mrAQMMLTEdyR9_IVnPh8Pg">
                                    <bpel:from bpdm:toPart="root">
                                        <bpel:literal bpdm:linkedMessageType="UserBusinessProcess1:notifyTaskCompletionRequest" bpdm:linkedPart="root"></bpel:literal>
                                    </bpel:from>
                                </bpel:variable>
                            </bpel:variables>
                            <bpel:sequence>
                                <bpdm:messagingtask operation="notifyTaskCompletion" partnerLink="tMPAndUBPPlkVar" portType="UserBusinessProcess1:userProcessPortType" isMyRole="false" enableSharing="false" bpdm:label="Notify Process Deadline Reached" bpdm:ID="_UM9-sMK_EdyR9_IVnPh8Pg">
                                    <bpdm:linkset bpdm:type="assignments">
                                        <bpel:copy>
                                            <bpel:from>$createTaskRequest.root/b4p:taskMetaData/b4p:userProcessCompleteSOAPAction</bpel:from>
                                            <bpel:to>$userBusinessProcess1NotifyTaskCompletionRequestMsg.root/b4p:taskMetaData/b4p:userProcessCompleteSOAPAction</bpel:to><mapper:mapperLink><mapper:vertice id="23094452" targetPath="$userBusinessProcess1NotifyTaskCompletionRequestMsg.root/b4p:taskMetaData/b4p:userProcessCompleteSOAPAction" targetedBy="28867980-arg0"></mapper:vertice><mapper:vertice id="28867980" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:userProcessCompleteSOAPAction"></mapper:vertice></mapper:mapperLink>
                                        </bpel:copy>
                                        <bpel:copy>
                                            <bpel:from>$createTaskRequest.root/b4p:taskMetaData/b4p:userProcessNamespaceURI</bpel:from>
                                            <bpel:to>$userBusinessProcess1NotifyTaskCompletionRequestMsg.root/b4p:taskMetaData/b4p:userProcessNamespaceURI</bpel:to><mapper:mapperLink><mapper:vertice id="11798476" targetPath="$userBusinessProcess1NotifyTaskCompletionRequestMsg.root/b4p:taskMetaData/b4p:userProcessNamespaceURI" targetedBy="29922447-arg0"></mapper:vertice><mapper:vertice id="29922447" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:userProcessNamespaceURI"></mapper:vertice></mapper:mapperLink>
                                        </bpel:copy>
                                        <bpel:copy>
                                            <bpel:from>$createTaskRequest.root/b4p:taskMetaData/b4p:userProcessEndpoint</bpel:from>
                                            <bpel:to>$userBusinessProcess1NotifyTaskCompletionRequestMsg.root/b4p:taskMetaData/b4p:userProcessEndpoint</bpel:to><mapper:mapperLink><mapper:vertice id="7162536" targetPath="$userBusinessProcess1NotifyTaskCompletionRequestMsg.root/b4p:taskMetaData/b4p:userProcessEndpoint" targetedBy="20036123-arg0"></mapper:vertice><mapper:vertice id="20036123" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:userProcessEndpoint"></mapper:vertice></mapper:mapperLink>
                                        </bpel:copy>
                                        <bpel:copy>
                                            <bpel:from>"DeadlineReached"</bpel:from>
                                            <bpel:to>$userBusinessProcess1NotifyTaskCompletionRequestMsg.root/b4p:status</bpel:to><mapper:mapperLink><mapper:vertice id="29484045" targetPath="$userBusinessProcess1NotifyTaskCompletionRequestMsg.root/b4p:status" targetedBy="13635038-arg0"></mapper:vertice><mapper:vertice id="13635038" dimension="133x25" location="336,60"><mapper:value>"DeadlineReached"</mapper:value></mapper:vertice></mapper:mapperLink>
                                        </bpel:copy>
                                    </bpdm:linkset>
                                    <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="userBusinessProcess1NotifyTaskCompletionRequestMsg" bpdm:variableIsManaged="true" bpdm:messageType="UserBusinessProcess1:notifyTaskCompletionRequest" bpdm:ID="_mrAQMMLTEdyR9_IVnPh8Pg"></bpdm:linkset>
                                    <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="userBusinessProcess1NotifyTaskCompletionResponseMsg" bpdm:variableIsManaged="true" bpdm:messageType="UserBusinessProcess1:notifyTaskCompletionResponse" bpdm:ID="_nMt2IMLTEdyR9_IVnPh8Pg"></bpdm:linkset>
                                </bpdm:messagingtask>
                                <bpdm:messagingtask operation="fail" partnerLink="taskManagementProcessAndTaskManagementSystemForPortTaskManagementServicesSOAPPlkVar" portType="tns:TaskManagementServices" isMyRole="false" enableSharing="false" bpdm:label="Change Task status to Failed" bpdm:ID="_FyrywLEhEdy6MtvbqSLrQw">
                                    <bpdm:linkset bpdm:type="assignments">
                                        <bpel:copy>
                                            <bpel:from>$createTaskResponse.root/b4p:taskMetaData/b4p:taskId</bpel:from>
                                            <bpel:to>$tnsFailRequestMsg.failRequest/tns:taskId</bpel:to><mapper:mapperLink><mapper:vertice id="28655936" targetPath="$tnsFailRequestMsg.failRequest/tns:taskId" targetedBy="26638205-arg0"></mapper:vertice><mapper:vertice id="26638205" sourcePath="$createTaskResponse.root/b4p:taskMetaData/b4p:taskId"></mapper:vertice></mapper:mapperLink>
                                        </bpel:copy>
                                    </bpdm:linkset>
                                    <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="tnsFailRequestMsg" bpdm:variableIsManaged="true" bpdm:messageType="tns:failRequest" bpdm:ID="_tsnVMMI4EdyR9_IVnPh8Pg"></bpdm:linkset>
                                    <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="tnsFailResponseMsg" bpdm:variableIsManaged="true" bpdm:messageType="tns:okResponse" bpdm:ID="_uEBIkMI4EdyR9_IVnPh8Pg"></bpdm:linkset>
                                    <bpdm:thrownFault msgFaultNcName="InvalidParticipantToken" msgFaultTypeQname="tns:invalidParticipantTokenFault"/>
                                    <bpdm:thrownFault msgFaultNcName="UnavailableTask" msgFaultTypeQname="tns:unavailableTaskFault"/>
                                    <bpdm:thrownFault msgFaultNcName="InvalidInputMessage" msgFaultTypeQname="tns:invalidInputMessageFault"/>
                                    <bpdm:thrownFault msgFaultNcName="AccessDenied" msgFaultTypeQname="tns:accessDeniedFault"/>
                                </bpdm:messagingtask>
                            </bpel:sequence>
                        </bpel:scope>
                    </bpel:catch>
                </bpel:faultHandlers>
                <bpel:eventHandlers>
                    <bpel:onAlarm>
                        <bpel:until>if (boolean(normalize-space($createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:deadline))) then ($createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:deadline) else (current-dateTime())<mapper:mapperLink><mapper:vertice id="32145689" targetPath="$date" targetedBy="29427361-arg3"></mapper:vertice><mapper:vertice id="29427361" dimension="75x31" location="154,198"><mapper:value>if-then-else</mapper:value></mapper:vertice><mapper:vertice id="12691682" dimension="73x25" location="180,84" targetedBy="29427361-arg0"><mapper:value>boolean()</mapper:value></mapper:vertice><mapper:vertice id="11443902" dimension="121x25" location="24,84" targetedBy="12691682-arg0"><mapper:value>normalize-space()</mapper:value></mapper:vertice><mapper:vertice id="20372935" sourcePath="$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:deadline" targetedBy="11443902-arg0"></mapper:vertice><mapper:vertice id="22738986" sourcePath="$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:deadline" targetedBy="29427361-arg1"></mapper:vertice><mapper:vertice id="23706033" dimension="133x25" location="12,240" targetedBy="29427361-arg2"><mapper:value>current-dateTime()</mapper:value></mapper:vertice></mapper:mapperLink></bpel:until>
                        <bpdm:eventHandler bpdm:label="Timer_Intermediate_Event" bpdm:ID="_lFILsMSNEdyOLLhtllRYzQ" bpdm:type="timer">
                            <bpdm:linkset bpdm:type="timer">
                                <bpel:until>if (boolean(normalize-space($createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:deadline))) then ($createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:deadline) else (current-dateTime())<mapper:mapperLink><mapper:vertice id="32145689" targetPath="$date" targetedBy="29427361-arg3"></mapper:vertice><mapper:vertice id="29427361" dimension="75x31" location="154,198"><mapper:value>if-then-else</mapper:value></mapper:vertice><mapper:vertice id="12691682" dimension="73x25" location="180,84" targetedBy="29427361-arg0"><mapper:value>boolean()</mapper:value></mapper:vertice><mapper:vertice id="11443902" dimension="121x25" location="24,84" targetedBy="12691682-arg0"><mapper:value>normalize-space()</mapper:value></mapper:vertice><mapper:vertice id="20372935" sourcePath="$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:deadline" targetedBy="11443902-arg0"></mapper:vertice><mapper:vertice id="22738986" sourcePath="$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:deadline" targetedBy="29427361-arg1"></mapper:vertice><mapper:vertice id="23706033" dimension="133x25" location="12,240" targetedBy="29427361-arg2"><mapper:value>current-dateTime()</mapper:value></mapper:vertice></mapper:mapperLink></bpel:until>
                            </bpdm:linkset>
                        </bpdm:eventHandler>
                        <bpel:scope bpdm:label="SubProcess" bpdm:ID="_cjyWIMUkEdyOLLhtllRYzQ">
                            <bpel:sequence>
                                <bpdm:gateway bpdm:label="Deadline specified&#13;&#10; in createRequest?" bpdm:ID="_fbotAMUkEdyOLLhtllRYzQ" bpdm:gatewayType="data_xor" bpdm:isMerge="false">
                                    <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_guh4QMUkEdyOLLhtllRYzQ" bpdm:targetDisplayName="Yes">
                                        <bpel:condition>boolean(normalize-space($createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:deadline))<mapper:mapperLink><mapper:vertice id="1498749" targetPath="$condition" targetedBy="7982608-arg0"></mapper:vertice><mapper:vertice id="7982608" dimension="67x27" location="354,34"><mapper:value>boolean()</mapper:value></mapper:vertice><mapper:vertice id="28555822" dimension="121x34" location="180,51" targetedBy="7982608-arg1"><mapper:value>normalize-space()</mapper:value></mapper:vertice><mapper:vertice id="15887736" sourcePath="$createTMSTaskRequest.createRequest/tns:task/tns:metadata/tns:deadline" targetedBy="28555822-arg0"></mapper:vertice></mapper:mapperLink></bpel:condition>
                                    </bpdm:linkset>
                                    <bpdm:linkset bpdm:type="case" bpdm:default="true" bpdm:ID="_i_mjAMUkEdyOLLhtllRYzQ" bpdm:targetDisplayName="default"></bpdm:linkset>
                                    <bpel:sequence>
                                        <bpdm:messagingtask eventType="end: error" bpdm:label="DeadlineReached" bpdm:ID="_guVrAMUkEdyOLLhtllRYzQ">
                                            <bpdm:thrownFault faultName="this:DeadlineReached"/>
                                        </bpdm:messagingtask>
                                    </bpel:sequence>
                                    <bpel:sequence>
                                        <bpdm:messagingtask eventType="end: empty" bpdm:label="No deadline &#13;&#10;is specified" bpdm:ID="_i_UPIMUkEdyOLLhtllRYzQ"></bpdm:messagingtask>
                                    </bpel:sequence>
                                </bpdm:gateway>
                            </bpel:sequence>
                        </bpel:scope>
                    </bpel:onAlarm>
                </bpel:eventHandlers>
                <bpel:sequence>
                    <bpdm:gateway bpdm:label="Waiting for requests" bpdm:ID="_ESlcoKhHEdyQFMjeTyvJzg" bpdm:gatewayType="event_xor" bpdm:isMerge="false">
                        <bpel:sequence>
                            <bpdm:messagingtask eventType="intermediate: message" operation="completeTask" partnerLink="taskManagementProcessAndUIFWForUIFWPortPlkVar" portType="b4p:UIFWPortType" isMyRole="true" enableSharing="false" bpdm:label="Receive complete Task Request" bpdm:ID="_QcFlEKhHEdyQFMjeTyvJzg">
                                <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="receive" bpdm:messageVariable="completeTaskRequest" bpdm:msgVarScopeId="_TbKiIKhDEdyQFMjeTyvJzg" bpdm:variableIsManaged="true" bpdm:messageType="b4p:completeTaskRequest" bpdm:ID="_KJTJoKhNEdyQFMjeTyvJzg">
                                    <bpel:correlation set="task" initiate="no" bpdm:isSource="false"></bpel:correlation>
                                </bpdm:linkset>
                            </bpdm:messagingtask>
                            <bpdm:messagingtask operation="setOutputAndComplete" partnerLink="taskManagementProcessAndTaskManagementSystemForPortTaskManagementServicesSOAPPlkVar" portType="tns:TaskManagementServices" isMyRole="false" enableSharing="false" bpdm:label="Invoke TMS to mark Task as completed" bpdm:ID="_wSyCIKhNEdyQFMjeTyvJzg">
                                <bpdm:linkset bpdm:type="assignments">
                                    <bpel:copy>
                                        <bpel:from>$createTaskResponse.root/b4p:taskMetaData/b4p:taskId</bpel:from>
                                        <bpel:to>$completeTMSTaskRequest.setOutputAndCompleteRequest/tns:taskId</bpel:to><mapper:mapperLink><mapper:vertice id="26363116" targetPath="$completeTMSTaskRequest.setOutputAndCompleteRequest/tns:taskId" targetedBy="14668887-arg0"></mapper:vertice><mapper:vertice id="14668887" sourcePath="$createTaskResponse.root/b4p:taskMetaData/b4p:taskId"></mapper:vertice></mapper:mapperLink>
                                    </bpel:copy>
                                    <bpel:copy>
                                        <bpel:from>$completeTaskRequest.root/b4p:taskOutput</bpel:from>
                                        <bpel:to>$completeTMSTaskRequest.setOutputAndCompleteRequest/tns:data</bpel:to><mapper:mapperLink><mapper:vertice id="2788158" targetPath="$completeTMSTaskRequest.setOutputAndCompleteRequest/tns:data" targetedBy="21691054-arg0"></mapper:vertice><mapper:vertice id="21691054" sourcePath="$completeTaskRequest.root/b4p:taskOutput"></mapper:vertice></mapper:mapperLink>
                                    </bpel:copy>
                                    <bpel:copy>
                                        <bpel:from>$completeTaskRequest.root/b4p:participantToken</bpel:from>
                                        <bpel:to>$completeTMSTaskRequest.setOutputAndCompleteRequest/tns:participantToken</bpel:to><mapper:mapperLink><mapper:vertice id="7784248" targetPath="$completeTMSTaskRequest.setOutputAndCompleteRequest/tns:participantToken" targetedBy="25892183-arg0"></mapper:vertice><mapper:vertice id="25892183" sourcePath="$completeTaskRequest.root/b4p:participantToken"></mapper:vertice></mapper:mapperLink>
                                    </bpel:copy>
                                </bpdm:linkset>
                                <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="completeTMSTaskRequest" bpdm:msgVarScopeId="_TbKiIKhDEdyQFMjeTyvJzg" bpdm:variableIsManaged="true" bpdm:messageType="tns:setOutputAndCompleteRequest" bpdm:ID="_B31NQKhOEdyQFMjeTyvJzg"></bpdm:linkset>
                                <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="completeTMSTaskResponse" bpdm:msgVarScopeId="_TbKiIKhDEdyQFMjeTyvJzg" bpdm:variableIsManaged="true" bpdm:messageType="tns:okResponse" bpdm:ID="_ChX5gKhOEdyQFMjeTyvJzg"></bpdm:linkset>
                                <bpdm:thrownFault msgFaultNcName="InvalidParticipantToken" msgFaultTypeQname="tns:invalidParticipantTokenFault"/>
                                <bpdm:thrownFault msgFaultNcName="UnavailableTask" msgFaultTypeQname="tns:unavailableTaskFault"/>
                                <bpdm:thrownFault msgFaultNcName="InvalidInputMessage" msgFaultTypeQname="tns:invalidInputMessageFault"/>
                            </bpdm:messagingtask>
                            <bpdm:messagingtask operation="getAttachments" partnerLink="taskManagementProcessAndTaskManagementSystemForPortTaskManagementServicesSOAPPlkVar" portType="tns:TaskManagementServices" isMyRole="false" enableSharing="false" bpdm:label="getAttachements" bpdm:ID="_6-GHIGmhEd2FXpqqOgbHYQ">
                                <bpdm:linkset bpdm:type="assignments">
                                    <bpel:copy>
                                        <bpel:from>$completeTaskRequest.root/b4p:participantToken</bpel:from>
                                        <bpel:to>$tnsGetAttachmentsRequestMsg.getAttachmentsRequest/tns:participantToken</bpel:to><mapper:mapperLink><mapper:vertice id="807481" targetPath="$tnsGetAttachmentsRequestMsg.getAttachmentsRequest/tns:participantToken" targetedBy="10784980-arg0"></mapper:vertice><mapper:vertice id="10784980" sourcePath="$completeTaskRequest.root/b4p:participantToken"></mapper:vertice></mapper:mapperLink>
                                    </bpel:copy>
                                    <bpel:copy>
                                        <bpel:from>$completeTaskRequest.root/b4p:taskMetaData/b4p:taskId</bpel:from>
                                        <bpel:to>$tnsGetAttachmentsRequestMsg.getAttachmentsRequest/tns:taskId</bpel:to><mapper:mapperLink><mapper:vertice id="10175283" targetPath="$tnsGetAttachmentsRequestMsg.getAttachmentsRequest/tns:taskId" targetedBy="23221445-arg0"></mapper:vertice><mapper:vertice id="23221445" sourcePath="$completeTaskRequest.root/b4p:taskMetaData/b4p:taskId"></mapper:vertice></mapper:mapperLink>
                                    </bpel:copy>
                                </bpdm:linkset>
                                <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="tnsGetAttachmentsRequestMsg" bpdm:msgVarScopeId="_TbKiIKhDEdyQFMjeTyvJzg" bpdm:variableIsManaged="true" bpdm:messageType="tns:getAttachmentsRequest" bpdm:binding="tns:TaskManagementServicesSOAP" bpdm:ID="_-Y_gsGmhEd2FXpqqOgbHYQ"></bpdm:linkset>
                                <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="tnsGetAttachmentsResponseMsg" bpdm:msgVarScopeId="_TbKiIKhDEdyQFMjeTyvJzg" bpdm:variableIsManaged="true" bpdm:messageType="tns:getAttachmentsResponse" bpdm:binding="tns:TaskManagementServicesSOAP" bpdm:ID="_AaCLYGmiEd2FXpqqOgbHYQ"></bpdm:linkset>
                                <bpdm:thrownFault msgFaultNcName="InvalidParticipantToken" msgFaultTypeQname="tns:invalidParticipantTokenFault"/>
                                <bpdm:thrownFault msgFaultNcName="UnavailableTask" msgFaultTypeQname="tns:unavailableTaskFault"/>
                                <bpdm:thrownFault msgFaultNcName="InvalidInputMessage" msgFaultTypeQname="tns:invalidInputMessageFault"/>
                            </bpdm:messagingtask>
                            <bpdm:gateway bpdm:label="Exclusive_Data-based_Gateway" bpdm:ID="_dmBMIGUTEd6uuIjDUjj8XQ" bpdm:gatewayType="data_xor" bpdm:isMerge="false">
                                <bpdm:linkset bpdm:type="case" bpdm:default="true" bpdm:ID="_e6qD0GUTEd6uuIjDUjj8XQ" bpdm:targetDisplayName="default"></bpdm:linkset>
                                <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_hZNJ4GUTEd6uuIjDUjj8XQ" bpdm:targetDisplayName="[GatewayDataBasedExclusive - GatewayDataBasedExclusive]">
                                    <bpel:condition>true()<mapper:mapperLink><mapper:vertice id="20184765" targetPath="$condition" targetedBy="23711871-arg0"></mapper:vertice><mapper:vertice id="23711871" dimension="78x24" location="528,504"><mapper:value>true()</mapper:value></mapper:vertice></mapper:mapperLink></bpel:condition>
                                </bpdm:linkset>
                                <bpel:sequence>
                                    <bpdm:messagingtask operation="notifyTaskCompletion" partnerLink="tMPAndUBPPlkVar" portType="UserBusinessProcess1:userProcessPortType" isMyRole="false" enableSharing="false" bpdm:label="notify Task Completion Request" bpdm:ID="_JP7KQKhQEdyQFMjeTyvJzg">
                                        <bpdm:linkset bpdm:type="assignments">
                                            <bpel:copy>
                                                <bpel:from>$createTaskResponse.root/b4p:taskMetaData/b4p:taskId</bpel:from>
                                                <bpel:to>$notifyTaskCompletionRequest.root/b4p:taskMetaData/b4p:taskId</bpel:to><mapper:mapperLink><mapper:vertice id="4471338" targetPath="$notifyTaskCompletionRequest.root/b4p:taskMetaData/b4p:taskId" targetedBy="27755151-arg0"></mapper:vertice><mapper:vertice id="27755151" sourcePath="$createTaskResponse.root/b4p:taskMetaData/b4p:taskId"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>$createTaskRequest.root/b4p:taskMetaData/b4p:processId</bpel:from>
                                                <bpel:to>$notifyTaskCompletionRequest.root/b4p:taskMetaData/b4p:processId</bpel:to><mapper:mapperLink><mapper:vertice id="1517094" targetPath="$notifyTaskCompletionRequest.root/b4p:taskMetaData/b4p:processId" targetedBy="7180150-arg0"></mapper:vertice><mapper:vertice id="7180150" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:processId"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>$completeTaskRequest.root/b4p:taskOutput</bpel:from>
                                                <bpel:to>$notifyTaskCompletionRequest.root/b4p:taskOutput</bpel:to><mapper:mapperLink><mapper:vertice id="10576010" targetPath="$notifyTaskCompletionRequest.root/b4p:taskOutput" targetedBy="28091926-arg0"></mapper:vertice><mapper:vertice id="28091926" sourcePath="$completeTaskRequest.root/b4p:taskOutput"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>$createTaskRequest.root/b4p:taskMetaData/b4p:userProcessEndpoint</bpel:from>
                                                <bpel:to>$notifyTaskCompletionRequest.root/b4p:taskMetaData/b4p:userProcessEndpoint</bpel:to><mapper:mapperLink><mapper:vertice id="6334096" targetPath="$notifyTaskCompletionRequest.root/b4p:taskMetaData/b4p:userProcessEndpoint" targetedBy="417240-arg0"></mapper:vertice><mapper:vertice id="417240" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:userProcessEndpoint"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>$createTaskRequest.root/b4p:taskMetaData/b4p:userProcessNamespaceURI</bpel:from>
                                                <bpel:to>$notifyTaskCompletionRequest.root/b4p:taskMetaData/b4p:userProcessNamespaceURI</bpel:to><mapper:mapperLink><mapper:vertice id="27680505" targetPath="$notifyTaskCompletionRequest.root/b4p:taskMetaData/b4p:userProcessNamespaceURI" targetedBy="4780509-arg0"></mapper:vertice><mapper:vertice id="4780509" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:userProcessNamespaceURI"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>$createTaskRequest.root/b4p:taskMetaData/b4p:userProcessCompleteSOAPAction</bpel:from>
                                                <bpel:to>$notifyTaskCompletionRequest.root/b4p:taskMetaData/b4p:userProcessCompleteSOAPAction</bpel:to><mapper:mapperLink><mapper:vertice id="30676419" targetPath="$notifyTaskCompletionRequest.root/b4p:taskMetaData/b4p:userProcessCompleteSOAPAction" targetedBy="27319807-arg0"></mapper:vertice><mapper:vertice id="27319807" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:userProcessCompleteSOAPAction"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>$createTaskRequest.root/b4p:taskMetaData/b4p:session</bpel:from>
                                                <bpel:to>$notifyTaskCompletionRequest.root/b4p:taskMetaData/b4p:session</bpel:to><mapper:mapperLink><mapper:vertice id="23329604" targetPath="$notifyTaskCompletionRequest.root/b4p:taskMetaData/b4p:session" targetedBy="18676317-arg0"></mapper:vertice><mapper:vertice id="18676317" sourcePath="$createTaskRequest.root/b4p:taskMetaData/b4p:session"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>"OK"</bpel:from>
                                                <bpel:to>$notifyTaskCompletionRequest.root/b4p:status</bpel:to><mapper:mapperLink><mapper:vertice id="12709302" targetPath="$notifyTaskCompletionRequest.root/b4p:status" targetedBy="3006744-arg0"></mapper:vertice><mapper:vertice id="3006744" dimension="71x27" location="204,168"><mapper:value>"OK"</mapper:value></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>$tnsGetAttachmentsResponseMsg.getAttachmentsResponse</bpel:from>
                                                <bpel:to>$notifyTaskCompletionRequest.root/b4p:taskMetaData/b4p:attachments</bpel:to><mapper:mapperLink><mapper:vertice id="27557442" targetPath="$notifyTaskCompletionRequest.root/b4p:taskMetaData/b4p:attachments" targetedBy="7559452-arg0"></mapper:vertice><mapper:vertice id="7559452" sourcePath="$tnsGetAttachmentsResponseMsg.getAttachmentsResponse"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy ignoreMissingFromData="yes">
                                                <bpel:from>$completeTaskRequest.root/b4p:user</bpel:from>
                                                <bpel:to>$notifyTaskCompletionRequest.root/b4p:user/text()</bpel:to><mapper:mapperLink><mapper:vertice id="10374684" targetPath="$notifyTaskCompletionRequest.root/b4p:user/text()" targetedBy="7637276-arg0"></mapper:vertice><mapper:vertice id="7637276" sourcePath="$completeTaskRequest.root/b4p:user"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                        </bpdm:linkset>
                                        <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="notifyTaskCompletionRequest" bpdm:msgVarScopeId="_TbKiIKhDEdyQFMjeTyvJzg" bpdm:variableIsManaged="true" bpdm:messageType="UserBusinessProcess1:notifyTaskCompletionRequest" bpdm:ID="_HM_zwKhREdyQFMjeTyvJzg"></bpdm:linkset>
                                        <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="notifyTaskCompletionResponse" bpdm:msgVarScopeId="_TbKiIKhDEdyQFMjeTyvJzg" bpdm:variableIsManaged="true" bpdm:messageType="UserBusinessProcess1:notifyTaskCompletionResponse" bpdm:ID="_HsnH8KhREdyQFMjeTyvJzg"></bpdm:linkset>
                                    </bpdm:messagingtask>
                                </bpel:sequence>
                                <bpel:sequence></bpel:sequence>
                            </bpdm:gateway>
                            <bpdm:gateway bpdm:label="Exclusive_Data-based_Gateway" bpdm:ID="_fWE0gGUTEd6uuIjDUjj8XQ" bpdm:gatewayType="data_xor" bpdm:isMerge="true"></bpdm:gateway>
                            <bpdm:gateway bpdm:label="Chained after?" bpdm:ID="_O4BB4KhVEdyQFMjeTyvJzg" bpdm:gatewayType="data_xor" bpdm:isMerge="false">
                                <bpdm:linkset bpdm:type="case" bpdm:default="true" bpdm:ID="_vOLQ4KhVEdyQFMjeTyvJzg" bpdm:targetDisplayName="default"></bpdm:linkset>
                                <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_uOeucKhVEdyQFMjeTyvJzg" bpdm:targetDisplayName="Yes">
                                    <bpel:condition>false()
<mapper:mapperLink>
  <mapper:vertice id="27362990" targetPath="$condition" targetedBy="3105106-arg0"></mapper:vertice>
  <mapper:vertice id="3105106" dimension="78x24" location="505,60">
    <mapper:value>false()</mapper:value>
  </mapper:vertice>
</mapper:mapperLink></bpel:condition>
                                </bpdm:linkset>
                                <bpel:sequence></bpel:sequence>
                                <bpel:sequence>
                                    <bpdm:messagingtask operation="nextTaskReady" partnerLink="taskManagementProcessAndNextTaskManagerForTMPPortPlkVar" portType="b4p:TMPPortType" isMyRole="true" enableSharing="false" bpdm:label="wait for next Task to be created" bpdm:ID="_tth9iKhVEdyQFMjeTyvJzg">
                                        <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="receive" bpdm:messageVariable="b4pNextTaskReadyMsg" bpdm:msgVarScopeId="_TbKiIKhDEdyQFMjeTyvJzg" bpdm:variableIsManaged="true" bpdm:messageType="b4p:nextTaskReady" bpdm:ID="_ejTZkKhWEdyQFMjeTyvJzg">
                                            <bpel:correlation set="task" initiate="no" bpdm:isSource="false"></bpel:correlation>
                                        </bpdm:linkset>
                                    </bpdm:messagingtask>
                                    <bpdm:messagingtask bpdm:label="Prepare response to UIFW" bpdm:ID="_R5Kh4KhZEdyXuZws7kaYiQ">
                                        <bpdm:linkset bpdm:type="assignments">
                                            <bpel:copy>
                                                <bpel:from>"OK"</bpel:from>
                                                <bpel:to>$completeTaskResponse.root/b4p:status</bpel:to><mapper:mapperLink><mapper:vertice id="10063488" targetPath="$completeTaskResponse.root/b4p:status" targetedBy="2182852-arg0"></mapper:vertice><mapper:vertice id="2182852" dimension="61x25" location="228,216"><mapper:value>"OK"</mapper:value></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>$b4pNextTaskReadyMsg.root/b4p:nextTaskId</bpel:from>
                                                <bpel:to>$completeTaskResponse.root/b4p:taskMetaData/b4p:nextTaskId</bpel:to><mapper:mapperLink><mapper:vertice id="9804905" targetPath="$completeTaskResponse.root/b4p:taskMetaData/b4p:nextTaskId" targetedBy="32625139-arg0"></mapper:vertice><mapper:vertice id="32625139" sourcePath="$b4pNextTaskReadyMsg.root/b4p:nextTaskId"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>$b4pNextTaskReadyMsg.root/b4p:nextTaskURL</bpel:from>
                                                <bpel:to>$completeTaskResponse.root/b4p:taskMetaData/b4p:nextTaskURL</bpel:to><mapper:mapperLink><mapper:vertice id="7619469" targetPath="$completeTaskResponse.root/b4p:taskMetaData/b4p:nextTaskURL" targetedBy="5523321-arg0"></mapper:vertice><mapper:vertice id="5523321" sourcePath="$b4pNextTaskReadyMsg.root/b4p:nextTaskURL"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                        </bpdm:linkset>
                                    </bpdm:messagingtask>
                                </bpel:sequence>
                            </bpdm:gateway>
                            <bpdm:gateway bpdm:label="Exclusive_Data-based_Gateway" bpdm:ID="_uyxHQKhVEdyQFMjeTyvJzg" bpdm:gatewayType="data_xor" bpdm:isMerge="true"></bpdm:gateway>
                            <bpdm:messagingtask eventType="intermediate: message" operation="completeTask" partnerLink="taskManagementProcessAndUIFWForUIFWPortPlkVar" portType="b4p:UIFWPortType" isMyRole="true" enableSharing="false" bpdm:label="send  Complete Task&#13;&#10; response back to UI" bpdm:ID="_yEJboKhZEdyXuZws7kaYiQ">
                                <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="reply" bpdm:messageVariable="completeTaskResponse" bpdm:msgVarScopeId="_TbKiIKhDEdyQFMjeTyvJzg" bpdm:variableIsManaged="true" bpdm:messageType="b4p:completeTaskResponse" bpdm:ID="_2yhPQKhZEdyXuZws7kaYiQ"></bpdm:linkset>
                            </bpdm:messagingtask>
                            <bpdm:messagingtask eventType="end: empty" bpdm:label="mark task &#13;&#10;as completed" bpdm:ID="_Gri9cKhaEdyXuZws7kaYiQ">
                                <bpdm:linkset bpdm:type="assignments">
                                    <bpel:copy>
                                        <bpel:from>true()</bpel:from>
                                        <bpel:to>$taskCompleted</bpel:to><mapper:mapperLink><mapper:vertice id="4744877" targetPath="$taskCompleted" targetedBy="6958848-arg0"></mapper:vertice><mapper:vertice id="6958848" dimension="64x16" location="143,25"><mapper:value>true()</mapper:value></mapper:vertice></mapper:mapperLink>
                                    </bpel:copy>
                                </bpdm:linkset>
                            </bpdm:messagingtask>
                        </bpel:sequence>
                        <bpel:sequence>
                            <bpdm:messagingtask eventType="intermediate: message" operation="escalateTask" partnerLink="tMPAndUBPPlkVar" portType="b4p:UserBusinessProcessPortType" isMyRole="true" enableSharing="false" bpdm:label="Receive escalate Task Request" bpdm:ID="_P5U2QKhHEdyQFMjeTyvJzg">
                                <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="receive" bpdm:messageVariable="escalateTaskRequest" bpdm:msgVarScopeId="_TbKiIKhDEdyQFMjeTyvJzg" bpdm:variableIsManaged="true" bpdm:messageType="b4p:escalateTaskRequest" bpdm:ID="_LLicAKhIEdyQFMjeTyvJzg">
                                    <bpel:correlation set="task" initiate="no" bpdm:isSource="false"></bpel:correlation>
                                </bpdm:linkset>
                            </bpdm:messagingtask>
                            <bpdm:messagingtask operation="reassign" partnerLink="taskManagementProcessAndTaskManagementSystemForPortTaskManagementServicesSOAPPlkVar" portType="tns:TaskManagementServices" isMyRole="false" enableSharing="false" bpdm:label="Invoke TMS to reassign Task" bpdm:ID="_p3IKIKhJEdyQFMjeTyvJzg">
                                <bpdm:linkset bpdm:type="assignments">
                                    <bpel:copy>
                                        <bpel:from>"READY"</bpel:from>
                                        <bpel:to>$tnsReassignRequestMsg.reassignRequest/tns:taskState</bpel:to><mapper:mapperLink><mapper:vertice id="22447197" targetPath="$tnsReassignRequestMsg.reassignRequest/tns:taskState" targetedBy="14907121-arg0"></mapper:vertice><mapper:vertice id="14907121" dimension="73x25" location="324,120"><mapper:value>"READY"</mapper:value></mapper:vertice></mapper:mapperLink>
                                    </bpel:copy>
                                    <bpel:copy>
                                        <bpel:from>$escalateTaskRequest.root/b4p:taskId</bpel:from>
                                        <bpel:to>$tnsReassignRequestMsg.reassignRequest/tns:taskId</bpel:to><mapper:mapperLink><mapper:vertice id="519903" targetPath="$tnsReassignRequestMsg.reassignRequest/tns:taskId" targetedBy="13340279-arg0"></mapper:vertice><mapper:vertice id="13340279" sourcePath="$escalateTaskRequest.root/b4p:taskId"></mapper:vertice></mapper:mapperLink>
                                    </bpel:copy>
                                    <bpel:copy>
                                        <bpel:from>bpel:doXslTransform("userRoleOwner.xsl", $tnsReassignRequestMsg.reassignRequest, "metadata", $escalateTaskRequest.root)</bpel:from>
                                        <bpel:to>$tnsReassignRequestMsg.reassignRequest</bpel:to><mapper:mapperLink><mapper:vertice id="17696527" targetPath="$tnsReassignRequestMsg.reassignRequest" targetedBy="3667111-arg4"></mapper:vertice><mapper:vertice id="3667111" dimension="157x25" location="336,12"><mapper:value>bpel:doXslTransform()</mapper:value></mapper:vertice><mapper:vertice id="972918" dimension="133x25" location="36,24" targetedBy="3667111-arg0"><mapper:value>"userRoleOwner.xsl"</mapper:value></mapper:vertice><mapper:vertice id="18165237" sourcePath="$tnsReassignRequestMsg.reassignRequest" targetedBy="3667111-arg1"></mapper:vertice><mapper:vertice id="13770786" dimension="85x25" location="48,60" targetedBy="3667111-arg2"><mapper:value>"metadata"</mapper:value></mapper:vertice><mapper:vertice id="17452716" sourcePath="$escalateTaskRequest.root" targetedBy="3667111-arg3"></mapper:vertice></mapper:mapperLink>
                                    </bpel:copy>
                                </bpdm:linkset>
                                <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="tnsReassignRequestMsg" bpdm:msgVarScopeId="_TbKiIKhDEdyQFMjeTyvJzg" bpdm:variableIsManaged="true" bpdm:messageType="tns:reassignRequest" bpdm:ID="_xZtKwKhJEdyQFMjeTyvJzg"></bpdm:linkset>
                                <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="tnsReassignResponseMsg" bpdm:msgVarScopeId="_TbKiIKhDEdyQFMjeTyvJzg" bpdm:variableIsManaged="true" bpdm:messageType="tns:okResponse" bpdm:ID="_1IFhAKhJEdyQFMjeTyvJzg"></bpdm:linkset>
                                <bpdm:thrownFault msgFaultNcName="InvalidParticipantToken" msgFaultTypeQname="tns:invalidParticipantTokenFault"/>
                                <bpdm:thrownFault msgFaultNcName="UnavailableTask" msgFaultTypeQname="tns:unavailableTaskFault"/>
                                <bpdm:thrownFault msgFaultNcName="InvalidInputMessage" msgFaultTypeQname="tns:invalidInputMessageFault"/>
                            </bpdm:messagingtask>
                            <bpdm:messagingtask eventType="intermediate: message" operation="escalateTask" partnerLink="tMPAndUBPPlkVar" portType="b4p:UserBusinessProcessPortType" isMyRole="true" enableSharing="false" bpdm:label="Send response back to UBP" bpdm:ID="_NRL9EKhMEdyQFMjeTyvJzg">
                                <bpdm:linkset bpdm:type="assignments">
                                    <bpel:copy>
                                        <bpel:from>false()</bpel:from>
                                        <bpel:to>$taskClaimed</bpel:to><mapper:mapperLink><mapper:vertice id="15544750" targetPath="$taskClaimed" targetedBy="24972792-arg0"></mapper:vertice><mapper:vertice id="24972792" dimension="64x31" location="95,42"><mapper:value>false()</mapper:value></mapper:vertice></mapper:mapperLink>
                                    </bpel:copy>
                                    <bpel:copy>
                                        <bpel:from>"OK"</bpel:from>
                                        <bpel:to>$escalateTaskResponse.root/b4p:status</bpel:to><mapper:mapperLink><mapper:vertice id="4728972" targetPath="$escalateTaskResponse.root/b4p:status" targetedBy="26171638-arg0"></mapper:vertice><mapper:vertice id="26171638" dimension="64x25" location="48,0"><mapper:value>"OK"</mapper:value></mapper:vertice></mapper:mapperLink>
                                    </bpel:copy>
                                </bpdm:linkset>
                                <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="reply" bpdm:messageVariable="escalateTaskResponse" bpdm:msgVarScopeId="_TbKiIKhDEdyQFMjeTyvJzg" bpdm:variableIsManaged="true" bpdm:messageType="b4p:escalateTaskResponse" bpdm:ID="_P3LH4KhMEdyQFMjeTyvJzg"></bpdm:linkset>
                            </bpdm:messagingtask>
                            <bpdm:messagingtask eventType="end: empty" bpdm:label="Mark task &#13;&#10;as escalated" bpdm:ID="_9BJAkKhMEdyQFMjeTyvJzg"></bpdm:messagingtask>
                        </bpel:sequence>
                        <bpel:sequence>
                            <bpdm:messagingtask eventType="intermediate: message" operation="revokeTask" partnerLink="taskManagementProcessAndUIFWForUIFWPortPlkVar" portType="b4p:UIFWPortType" isMyRole="true" enableSharing="false" bpdm:label="Receive Revoke Request" bpdm:ID="_7pZP0KkjEdyFPr8ebhWveQ">
                                <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="receive" bpdm:messageVariable="revokeTaskRequest" bpdm:msgVarScopeId="_TbKiIKhDEdyQFMjeTyvJzg" bpdm:variableIsManaged="true" bpdm:messageType="b4p:revokeTaskRequest" bpdm:ID="_HKTuQKkkEdyFPr8ebhWveQ">
                                    <bpel:correlation set="task" initiate="no" bpdm:isSource="false"></bpel:correlation>
                                </bpdm:linkset>
                            </bpdm:messagingtask>
                            <bpdm:gateway bpdm:label="Exclusive_Data-based_Gateway" bpdm:ID="_-BodEKkkEdyFPr8ebhWveQ" bpdm:gatewayType="data_xor" bpdm:isMerge="false">
                                <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_TtnBUKklEdyFPr8ebhWveQ" bpdm:targetDisplayName="Task claimed">
                                    <bpel:condition>$taskClaimed<mapper:mapperLink><mapper:vertice id="19646286" targetPath="$condition" targetedBy="18124419-arg0"></mapper:vertice><mapper:vertice id="18124419" sourcePath="$taskClaimed"></mapper:vertice></mapper:mapperLink></bpel:condition>
                                </bpdm:linkset>
                                <bpdm:linkset bpdm:type="case" bpdm:default="true" bpdm:ID="_NPAmoA-OEd6ZFe0Sdp4zgw" bpdm:targetDisplayName="default"></bpdm:linkset>
                                <bpel:sequence>
                                    <bpdm:messagingtask operation="reassign" partnerLink="taskManagementProcessAndTaskManagementSystemForPortTaskManagementServicesSOAPPlkVar" portType="tns:TaskManagementServices" isMyRole="false" enableSharing="false" bpdm:label="reassign revoked task" bpdm:ID="_TtOm0KklEdyFPr8ebhWveQ">
                                        <bpdm:linkset bpdm:type="assignments">
                                            <bpel:copy>
                                                <bpel:from>"READY"</bpel:from>
                                                <bpel:to>$tnsReassignRequestMsg.reassignRequest/tns:taskState</bpel:to><mapper:mapperLink><mapper:vertice id="24771547" targetPath="$tnsReassignRequestMsg.reassignRequest/tns:taskState" targetedBy="26052596-arg0"></mapper:vertice><mapper:vertice id="26052596" dimension="64x25" location="336,180"><mapper:value>"READY"</mapper:value></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>$revokeTaskRequest.root/b4p:taskId</bpel:from>
                                                <bpel:to>$tnsReassignRequestMsg.reassignRequest/tns:taskId</bpel:to><mapper:mapperLink><mapper:vertice id="21363215" targetPath="$tnsReassignRequestMsg.reassignRequest/tns:taskId" targetedBy="30833766-arg0"></mapper:vertice><mapper:vertice id="30833766" sourcePath="$revokeTaskRequest.root/b4p:taskId"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>$revokeTaskRequest.root/b4p:participantToken</bpel:from>
                                                <bpel:to>$tnsReassignRequestMsg.reassignRequest/tns:participantToken</bpel:to><mapper:mapperLink><mapper:vertice id="29413753" targetPath="$tnsReassignRequestMsg.reassignRequest/tns:participantToken" targetedBy="24309563-arg0"></mapper:vertice><mapper:vertice id="24309563" sourcePath="$revokeTaskRequest.root/b4p:participantToken"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>bpel:doXslTransform("userRoleOwner.xsl", $tnsReassignRequestMsg.reassignRequest, "metadata", $initialOwners)</bpel:from>
                                                <bpel:to>$tnsReassignRequestMsg.reassignRequest</bpel:to><mapper:mapperLink><mapper:vertice id="9725603" targetPath="$tnsReassignRequestMsg.reassignRequest" targetedBy="29469363-arg3"></mapper:vertice><mapper:vertice id="29469363" dimension="133x25" location="360,444"><mapper:value>bpel:doXslTransform()</mapper:value></mapper:vertice><mapper:vertice id="26058386" dimension="97x25" location="288,312" targetedBy="29469363-arg0"><mapper:value>"userRoleOwner.xsl"</mapper:value></mapper:vertice><mapper:vertice id="7462544" sourcePath="$tnsReassignRequestMsg.reassignRequest" targetedBy="29469363-arg1"></mapper:vertice><mapper:vertice id="6138128" dimension="109x25" location="120,396" targetedBy="29469363-arg2"><mapper:value>"metadata"</mapper:value></mapper:vertice><mapper:vertice id="15562521" sourcePath="$initialOwners" targetedBy="29469363-arg4"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                        </bpdm:linkset>
                                        <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="tnsReassignRequestMsg" bpdm:variableIsManaged="true" bpdm:messageType="tns:reassignRequest" bpdm:ID="_qnzFIKklEdyFPr8ebhWveQ"></bpdm:linkset>
                                        <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="tnsReassignResponseMsg" bpdm:variableIsManaged="true" bpdm:messageType="tns:okResponse" bpdm:ID="_rU-UMKklEdyFPr8ebhWveQ"></bpdm:linkset>
                                        <bpdm:thrownFault msgFaultNcName="InvalidParticipantToken" msgFaultTypeQname="tns:invalidParticipantTokenFault"/>
                                        <bpdm:thrownFault msgFaultNcName="UnavailableTask" msgFaultTypeQname="tns:unavailableTaskFault"/>
                                        <bpdm:thrownFault msgFaultNcName="InvalidInputMessage" msgFaultTypeQname="tns:invalidInputMessageFault"/>
                                    </bpdm:messagingtask>
                                </bpel:sequence>
                                <bpel:sequence></bpel:sequence>
                            </bpdm:gateway>
                            <bpdm:gateway bpdm:label="Exclusive_Data-based_Gateway" bpdm:ID="_8zpt4A7REd6OcttEdwEXRA" bpdm:gatewayType="data_xor" bpdm:isMerge="true"></bpdm:gateway>
                            <bpdm:messagingtask eventType="intermediate: message" operation="revokeTask" partnerLink="taskManagementProcessAndUIFWForUIFWPortPlkVar" portType="b4p:UIFWPortType" isMyRole="true" enableSharing="false" bpdm:label="send revoke Task &#13;&#10;response to UIFW" bpdm:ID="_FpfJ0KkmEdyFPr8ebhWveQ">
                                <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="reply" bpdm:messageVariable="revokeTaskResponse" bpdm:msgVarScopeId="_TbKiIKhDEdyQFMjeTyvJzg" bpdm:variableIsManaged="true" bpdm:messageType="b4p:revokeTaskResponse" bpdm:ID="_NIuikKkmEdyFPr8ebhWveQ"></bpdm:linkset>
                            </bpdm:messagingtask>
                            <bpdm:messagingtask eventType="end: empty" bpdm:label="mark task as &#13;&#10;not claimed" bpdm:ID="_KlyrwKkmEdyFPr8ebhWveQ">
                                <bpdm:linkset bpdm:type="assignments">
                                    <bpel:copy>
                                        <bpel:from>false()</bpel:from>
                                        <bpel:to>$taskClaimed</bpel:to><mapper:mapperLink><mapper:vertice id="5965176" targetPath="$taskClaimed" targetedBy="23627788-arg0"></mapper:vertice><mapper:vertice id="23627788" dimension="64x16" location="288,17"><mapper:value>false()</mapper:value></mapper:vertice></mapper:mapperLink>
                                    </bpel:copy>
                                </bpdm:linkset>
                            </bpdm:messagingtask>
                        </bpel:sequence>
                        <bpel:sequence>
                            <bpdm:messagingtask eventType="intermediate: message" operation="claimTask" partnerLink="taskManagementProcessAndUIFWForUIFWPortPlkVar" portType="b4p:UIFWPortType" isMyRole="true" enableSharing="false" bpdm:label="Receive Claim request" bpdm:ID="_WYkDIKkOEdyRnIK1kDiFhA">
                                <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="receive" bpdm:messageVariable="claimTaskRequest" bpdm:msgVarScopeId="_TbKiIKhDEdyQFMjeTyvJzg" bpdm:variableIsManaged="true" bpdm:messageType="b4p:claimTaskRequest" bpdm:ID="_3x9QwKkOEdyRnIK1kDiFhA">
                                    <bpel:correlation set="task" initiate="no" bpdm:isSource="false"></bpel:correlation>
                                </bpdm:linkset>
                            </bpdm:messagingtask>
                            <bpdm:gateway bpdm:label="Task claimed?" bpdm:ID="_TZ8gcKkPEdyRnIK1kDiFhA" bpdm:gatewayType="data_xor" bpdm:isMerge="false">
                                <bpdm:linkset bpdm:type="case" bpdm:default="true" bpdm:ID="_lWs5kKkSEdyRnIK1kDiFhA" bpdm:targetDisplayName="default"></bpdm:linkset>
                                <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_tLtXYA7LEd6OcttEdwEXRA" bpdm:targetDisplayName="[Task claimed? - GatewayDataBasedExclusive]">
                                    <bpel:condition>$taskClaimed<mapper:mapperLink><mapper:vertice id="14872111" targetPath="$condition" targetedBy="12496613-arg0"></mapper:vertice><mapper:vertice id="12496613" sourcePath="$taskClaimed"></mapper:vertice></mapper:mapperLink></bpel:condition>
                                </bpdm:linkset>
                                <bpel:sequence>
                                    <bpdm:gateway bpdm:label="Exclusive_Data-based_Gateway" bpdm:ID="_lasJEKkPEdyRnIK1kDiFhA" bpdm:gatewayType="data_xor" bpdm:isMerge="false">
                                        <bpdm:linkset bpdm:type="case" bpdm:default="false" bpdm:ID="_wcZboKkSEdyRnIK1kDiFhA" bpdm:targetDisplayName="if Task is escalated">
                                            <bpel:condition>$taskEscalated<mapper:mapperLink><mapper:vertice id="19327824" targetPath="$condition" targetedBy="32628716-arg0"></mapper:vertice><mapper:vertice id="32628716" sourcePath="$taskEscalated"></mapper:vertice></mapper:mapperLink></bpel:condition>
                                        </bpdm:linkset>
                                        <bpdm:linkset bpdm:type="case" bpdm:default="true" bpdm:ID="_CiGcwKkTEdyRnIK1kDiFhA" bpdm:targetDisplayName="default"></bpdm:linkset>
                                        <bpel:sequence>
                                            <bpdm:messagingtask bpdm:label="save previous owners from escalation request " bpdm:ID="_wb66gKkSEdyRnIK1kDiFhA">
                                                <bpdm:linkset bpdm:type="assignments">
                                                    <bpel:copy>
                                                        <bpel:from>bpel:doXslTransform("userRoleOwner.xsl", $initialOwners, "metadata", $escalateTaskRequest.root)</bpel:from>
                                                        <bpel:to>$initialOwners</bpel:to><mapper:mapperLink><mapper:vertice id="19253231" targetPath="$initialOwners" targetedBy="8837399-arg4"></mapper:vertice><mapper:vertice id="8837399" dimension="169x109" location="360,84"><mapper:value>bpel:doXslTransform()</mapper:value></mapper:vertice><mapper:vertice id="11719887" dimension="133x25" location="156,48" targetedBy="8837399-arg0"><mapper:value>"userRoleOwner.xsl"</mapper:value></mapper:vertice><mapper:vertice id="2809198" sourcePath="$initialOwners" targetedBy="8837399-arg1"></mapper:vertice><mapper:vertice id="7420362" dimension="85x25" location="48,216" targetedBy="8837399-arg2"><mapper:value>"metadata"</mapper:value></mapper:vertice><mapper:vertice id="365532" sourcePath="$escalateTaskRequest.root" targetedBy="8837399-arg3"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                </bpdm:linkset>
                                            </bpdm:messagingtask>
                                        </bpel:sequence>
                                        <bpel:sequence>
                                            <bpdm:messagingtask bpdm:label="save previous owners from creation request" bpdm:ID="_ChVnwKkTEdyRnIK1kDiFhA">
                                                <bpdm:linkset bpdm:type="assignments">
                                                    <bpel:copy>
                                                        <bpel:from>bpel:doXslTransform("userRoleOwner.xsl", $initialOwners, "metadata", $createTaskRequest.root/b4p:taskMetaData)</bpel:from>
                                                        <bpel:to>$initialOwners</bpel:to><mapper:mapperLink><mapper:vertice id="888545" targetPath="$initialOwners" targetedBy="28656789-arg4"></mapper:vertice><mapper:vertice id="28656789" dimension="133x109" location="312,156"><mapper:value>bpel:doXslTransform()</mapper:value></mapper:vertice><mapper:vertice id="22431143" dimension="133x25" location="72,84" targetedBy="28656789-arg0"><mapper:value>"userRoleOwner.xsl"</mapper:value></mapper:vertice><mapper:vertice id="32336440" sourcePath="$initialOwners" targetedBy="28656789-arg1"></mapper:vertice><mapper:vertice id="5197851" dimension="85x25" location="108,144" targetedBy="28656789-arg2"><mapper:value>"metadata"</mapper:value></mapper:vertice><mapper:vertice id="5359694" sourcePath="$createTaskRequest.root/b4p:taskMetaData" targetedBy="28656789-arg3"></mapper:vertice></mapper:mapperLink>
                                                    </bpel:copy>
                                                </bpdm:linkset>
                                            </bpdm:messagingtask>
                                        </bpel:sequence>
                                    </bpdm:gateway>
                                    <bpdm:gateway bpdm:label="Exclusive_Data-based_Gateway" bpdm:ID="_IGJUIKkTEdyRnIK1kDiFhA" bpdm:gatewayType="data_xor" bpdm:isMerge="true"></bpdm:gateway>
                                    <bpdm:messagingtask operation="reassign" partnerLink="taskManagementProcessAndTaskManagementSystemForPortTaskManagementServicesSOAPPlkVar" portType="tns:TaskManagementServices" isMyRole="false" enableSharing="false" bpdm:label="Invoke TMS to reassign claimed Task" bpdm:ID="_D1muMKkiEdyFPr8ebhWveQ">
                                        <bpdm:linkset bpdm:type="assignments">
                                            <bpel:copy>
                                                <bpel:from>$claimTaskRequest.root/b4p:participantToken</bpel:from>
                                                <bpel:to>$tnsReassignRequestMsg.reassignRequest/tns:participantToken</bpel:to><mapper:mapperLink><mapper:vertice id="568629" targetPath="$tnsReassignRequestMsg.reassignRequest/tns:participantToken" targetedBy="11950499-arg0"></mapper:vertice><mapper:vertice id="11950499" sourcePath="$claimTaskRequest.root/b4p:participantToken"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>$claimTaskRequest.root/b4p:claimerUser</bpel:from>
                                                <bpel:to>$tnsReassignRequestMsg.reassignRequest/tns:userOwner</bpel:to><mapper:mapperLink><mapper:vertice id="20913907" targetPath="$tnsReassignRequestMsg.reassignRequest/tns:userOwner" targetedBy="20197067-arg0"></mapper:vertice><mapper:vertice id="20197067" sourcePath="$claimTaskRequest.root/b4p:claimerUser"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>$claimTaskRequest.root/b4p:taskId</bpel:from>
                                                <bpel:to>$tnsReassignRequestMsg.reassignRequest/tns:taskId</bpel:to><mapper:mapperLink><mapper:vertice id="33244814" targetPath="$tnsReassignRequestMsg.reassignRequest/tns:taskId" targetedBy="15743104-arg0"></mapper:vertice><mapper:vertice id="15743104" sourcePath="$claimTaskRequest.root/b4p:taskId"></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                            <bpel:copy>
                                                <bpel:from>"CLAIMED"</bpel:from>
                                                <bpel:to>$tnsReassignRequestMsg.reassignRequest/tns:taskState</bpel:to><mapper:mapperLink><mapper:vertice id="17676796" targetPath="$tnsReassignRequestMsg.reassignRequest/tns:taskState" targetedBy="10854366-arg0"></mapper:vertice><mapper:vertice id="10854366" dimension="85x25" location="108,12"><mapper:value>"CLAIMED"</mapper:value></mapper:vertice></mapper:mapperLink>
                                            </bpel:copy>
                                        </bpdm:linkset>
                                        <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="tnsReassignRequestMsg" bpdm:variableIsManaged="true" bpdm:messageType="tns:reassignRequest" bpdm:ID="_HuAjIKkiEdyFPr8ebhWveQ"></bpdm:linkset>
                                        <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="tnsReassignResponseMsg" bpdm:variableIsManaged="true" bpdm:messageType="tns:okResponse" bpdm:ID="_IEE5wKkiEdyFPr8ebhWveQ"></bpdm:linkset>
                                        <bpdm:thrownFault msgFaultNcName="InvalidParticipantToken" msgFaultTypeQname="tns:invalidParticipantTokenFault"/>
                                        <bpdm:thrownFault msgFaultNcName="UnavailableTask" msgFaultTypeQname="tns:unavailableTaskFault"/>
                                        <bpdm:thrownFault msgFaultNcName="InvalidInputMessage" msgFaultTypeQname="tns:invalidInputMessageFault"/>
                                    </bpdm:messagingtask>
                                </bpel:sequence>
                                <bpel:sequence></bpel:sequence>
                            </bpdm:gateway>
                            <bpdm:gateway bpdm:label="Exclusive_Data-based_Gateway" bpdm:ID="_qXKMIA7LEd6OcttEdwEXRA" bpdm:gatewayType="data_xor" bpdm:isMerge="true"></bpdm:gateway>
                            <bpdm:messagingtask eventType="intermediate: message" operation="claimTask" partnerLink="taskManagementProcessAndUIFWForUIFWPortPlkVar" portType="b4p:UIFWPortType" isMyRole="true" enableSharing="false" bpdm:label="send claim Task &#13;&#10;response to UIFW" bpdm:ID="_Vv8-cKkjEdyFPr8ebhWveQ">
                                <bpdm:linkset bpdm:type="assignments">
                                    <bpel:copy>
                                        <bpel:from>true()</bpel:from>
                                        <bpel:to>$taskClaimed</bpel:to><mapper:mapperLink><mapper:vertice id="28401161" targetPath="$taskClaimed" targetedBy="20926459-arg0"></mapper:vertice><mapper:vertice id="20926459" dimension="62x31" location="251,42"><mapper:value>true()</mapper:value></mapper:vertice></mapper:mapperLink>
                                    </bpel:copy>
                                </bpdm:linkset>
                                <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="reply" bpdm:messageVariable="claimTaskResponse" bpdm:msgVarScopeId="_TbKiIKhDEdyQFMjeTyvJzg" bpdm:variableIsManaged="true" bpdm:messageType="b4p:claimTaskResponse" bpdm:ID="_mpEQoKkjEdyFPr8ebhWveQ"></bpdm:linkset>
                            </bpdm:messagingtask>
                            <bpdm:messagingtask eventType="end: empty" bpdm:label="mark task &#13;&#10;as claimed" bpdm:ID="_qcCL8KkjEdyFPr8ebhWveQ"></bpdm:messagingtask>
                        </bpel:sequence>
                        <bpel:sequence>
                            <bpdm:messagingtask eventType="intermediate: message" operation="skipTask" partnerLink="taskManagementProcessAndUIFWForUIFWPortPlkVar" portType="b4p:UIFWPortType" isMyRole="true" enableSharing="false" bpdm:label="Receive Skip Task  Request" bpdm:ID="_4bvxgHB4Ed2pTYDSDTVx7Q">
                                <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="receive" bpdm:messageVariable="b4pSkipTaskRequestMsg" bpdm:msgVarScopeId="_TbKiIKhDEdyQFMjeTyvJzg" bpdm:variableIsManaged="true" bpdm:messageType="b4p:skipTaskRequest" bpdm:binding="b4p:UserBusinessProcessBinding" bpdm:ID="_FsOJEHB5Ed2pTYDSDTVx7Q">
                                    <bpel:correlation set="task" initiate="no" bpdm:isSource="false"></bpel:correlation>
                                </bpdm:linkset>
                            </bpdm:messagingtask>
                            <bpdm:messagingtask operation="skip" partnerLink="taskManagementProcessAndTaskManagementSystemForPortTaskManagementServicesSOAPPlkVar" portType="tns:TaskManagementServices" isMyRole="false" enableSharing="false" bpdm:label="Invoke TMS to skip Task" bpdm:ID="_H8BBcHB5Ed2pTYDSDTVx7Q">
                                <bpdm:linkset bpdm:type="assignments">
                                    <bpel:copy>
                                        <bpel:from>$b4pSkipTaskRequestMsg.root/b4p:taskId</bpel:from>
                                        <bpel:to>$TMSskipRequest.skipRequest/tns:taskId</bpel:to><mapper:mapperLink><mapper:vertice id="3882572" targetPath="$TMSskipRequest.skipRequest/tns:taskId" targetedBy="32421519-arg0"></mapper:vertice><mapper:vertice id="32421519" sourcePath="$b4pSkipTaskRequestMsg.root/b4p:taskId"></mapper:vertice></mapper:mapperLink>
                                    </bpel:copy>
                                    <bpel:copy>
                                        <bpel:from>$b4pSkipTaskRequestMsg.root/b4p:participantToken</bpel:from>
                                        <bpel:to>$TMSskipRequest.skipRequest/tns:participantToken</bpel:to><mapper:mapperLink><mapper:vertice id="18477229" targetPath="$TMSskipRequest.skipRequest/tns:participantToken" targetedBy="6682375-arg0"></mapper:vertice><mapper:vertice id="6682375" sourcePath="$b4pSkipTaskRequestMsg.root/b4p:participantToken"></mapper:vertice></mapper:mapperLink>
                                    </bpel:copy>
                                </bpdm:linkset>
                                <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="invoke-request" bpdm:messageVariable="TMSskipRequest" bpdm:msgVarScopeId="_TbKiIKhDEdyQFMjeTyvJzg" bpdm:variableIsManaged="true" bpdm:messageType="tns:skipRequest" bpdm:binding="tns:TaskManagementServicesSOAP" bpdm:ID="_oaISkHB5Ed2pTYDSDTVx7Q"></bpdm:linkset>
                                <bpdm:linkset bpdm:type="incomingMessage" bpdm:bpeltype="invoke-receive" bpdm:messageVariable="TMSskipResponse" bpdm:msgVarScopeId="_TbKiIKhDEdyQFMjeTyvJzg" bpdm:variableIsManaged="true" bpdm:messageType="tns:okResponse" bpdm:binding="tns:TaskManagementServicesSOAP" bpdm:ID="_tOI0IHB5Ed2pTYDSDTVx7Q"></bpdm:linkset>
                                <bpdm:thrownFault msgFaultNcName="InvalidParticipantToken" msgFaultTypeQname="tns:invalidParticipantTokenFault"/>
                                <bpdm:thrownFault msgFaultNcName="UnavailableTask" msgFaultTypeQname="tns:unavailableTaskFault"/>
                                <bpdm:thrownFault msgFaultNcName="InvalidInputMessage" msgFaultTypeQname="tns:invalidInputMessageFault"/>
                            </bpdm:messagingtask>
                            <bpdm:messagingtask eventType="intermediate: message" operation="skipTask" partnerLink="taskManagementProcessAndUIFWForUIFWPortPlkVar" portType="b4p:UIFWPortType" isMyRole="true" enableSharing="false" bpdm:label="Message_Intermediate_Event" bpdm:ID="_M8ajwHB6Ed2pTYDSDTVx7Q">
                                <bpdm:linkset bpdm:type="outgoingMessage" bpdm:bpeltype="reply" bpdm:messageVariable="b4pSkipTaskResponseMsg" bpdm:msgVarScopeId="_TbKiIKhDEdyQFMjeTyvJzg" bpdm:variableIsManaged="true" bpdm:messageType="b4p:skipTaskResponse" bpdm:binding="b4p:UserBusinessProcessBinding" bpdm:ID="_NsjAMHB6Ed2pTYDSDTVx7Q"></bpdm:linkset>
                            </bpdm:messagingtask>
                            <bpdm:messagingtask eventType="end: empty" bpdm:label="Mark Task as skipped" bpdm:ID="_ROAUwHB6Ed2pTYDSDTVx7Q">
                                <bpdm:linkset bpdm:type="assignments">
                                    <bpel:copy>
                                        <bpel:from>true()</bpel:from>
                                        <bpel:to>$taskCompleted</bpel:to><mapper:mapperLink><mapper:vertice id="392443" targetPath="$taskCompleted" targetedBy="20499174-arg0"></mapper:vertice><mapper:vertice id="20499174" dimension="78x24" location="406,43"><mapper:value>true()</mapper:value></mapper:vertice></mapper:mapperLink>
                                    </bpel:copy>
                                </bpdm:linkset>
                            </bpdm:messagingtask>
                        </bpel:sequence>
                    </bpdm:gateway>
                </bpel:sequence>
            </bpel:scope>
        </bpel:sequence>
    </bpel:scope>
</bpel:process>