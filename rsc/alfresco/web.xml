<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN" "http://java.sun.com/dtd/web-app_2_3.dtd">

<web-app>
	<display-name>alfresco</display-name>
	<description>Alfresco Web Client</description>
	<context-param>
		<param-name>javax.faces.STATE_SAVING_METHOD</param-name>
		<param-value>server</param-value>
	</context-param>
	<context-param>
		<param-name>javax.faces.CONFIG_FILES</param-name>
		<param-value>/WEB-INF/faces-config.xml,/WEB-INF/faces-config-app.xml,/WEB-INF/faces-config-beans.xml,/WEB-INF/faces-config-navigation.xml,/WEB-INF/faces-config-common.xml,/WEB-INF/faces-config-repo.xml,/WEB-INF/faces-config-wcm.xml,/WEB-INF/faces-config-custom.xml</param-value>
	</context-param>
	<context-param>
		<param-name>org.apache.myfaces.ALLOW_JAVASCRIPT</param-name>
		<param-value>true</param-value>
	</context-param>
	<context-param>
		<param-name>org.apache.myfaces.DETECT_JAVASCRIPT</param-name>
		<param-value>false</param-value>
		<description>This is an EXPERIMENTAL feature, so leave it off for now!</description>
	</context-param>
	<context-param>
		<param-name>org.apache.myfaces.SERIALIZE_STATE_IN_SESSION</param-name>
		<param-value>false</param-value>
		<description>Stop MyFaces from Serializing the state to the session</description>
	</context-param>
	<context-param>
		<param-name>org.apache.myfaces.PRETTY_HTML</param-name>
		<param-value>true</param-value>
		<description>If true, rendered HTML code will be formatted, so that it is "human readable". i.e. additional line separators and whitespace will be written, that do not influence the HTML code. Default: "true"</description>
	</context-param>
	<context-param>
		<param-name>org.apache.myfaces.AUTO_SCROLL</param-name>
		<param-value>false</param-value>
		<description>If true, a javascript function will be rendered that is able to restore the former vertical scroll on every request. Convenient feature if you have pages with long lists and you do not want the browser page to always jump to the top if you trigger a link or button action that stays on the same page. Default: "false"</description>
	</context-param>
	<context-param>
		<param-name>contextConfigLocation</param-name>
		<param-value>classpath:alfresco/application-context.xml classpath:alfresco/web-client-application-context.xml classpath:alfresco/web-scripts-application-context.xml classpath:web-services-application-context.xml</param-value>
		<description>Spring config file locations</description>
	</context-param>
	<filter>
		<filter-name>Authentication Filter</filter-name>
		<filter-class>org.alfresco.web.app.servlet.AuthenticationFilter</filter-class>
	</filter>
	<filter>
		<filter-name>WebDAV Authentication Filter</filter-name>
		<filter-class>org.alfresco.repo.webdav.auth.AuthenticationFilter</filter-class>
	</filter>
	<filter>
		<filter-name>Admin Authentication Filter</filter-name>
		<filter-class>org.alfresco.web.app.servlet.AdminAuthenticationFilter</filter-class>
	</filter>
	<filter-mapping>
		<filter-name>Authentication Filter</filter-name>
		<url-pattern>/faces/*</url-pattern>
	</filter-mapping>
	<filter-mapping>
		<filter-name>WebDAV Authentication Filter</filter-name>
		<url-pattern>/webdav/*</url-pattern>
	</filter-mapping>
	<filter-mapping>
		<filter-name>Admin Authentication Filter</filter-name>
		<url-pattern>/faces/jsp/admin/*</url-pattern>
	</filter-mapping>
	<filter-mapping>
		<filter-name>Admin Authentication Filter</filter-name>
		<url-pattern>/faces/jsp/categories/*</url-pattern>
	</filter-mapping>
	<filter-mapping>
		<filter-name>Admin Authentication Filter</filter-name>
		<url-pattern>/faces/jsp/groups/*</url-pattern>
	</filter-mapping>
	<filter-mapping>
		<filter-name>Admin Authentication Filter</filter-name>
		<url-pattern>/faces/jsp/users/delete-user.jsp</url-pattern>
	</filter-mapping>
	<filter-mapping>
		<filter-name>Admin Authentication Filter</filter-name>
		<url-pattern>/faces/jsp/users/users.jsp</url-pattern>
	</filter-mapping>
	<filter-mapping>
		<filter-name>Admin Authentication Filter</filter-name>
		<url-pattern>/faces/jsp/dialog/system-info.jsp</url-pattern>
	</filter-mapping>
	<listener>
		<listener-class>org.apache.myfaces.webapp.StartupServletContextListener</listener-class>
	</listener>
	<listener>
		<listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
	</listener>
	<listener>
		<listener-class>org.alfresco.web.app.ContextListener</listener-class>
	</listener>
	<listener>
		<listener-class>com.liferay.portal.kernel.servlet.PortletContextListener</listener-class>
	</listener>
	<servlet>
		<servlet-name>Faces Servlet</servlet-name>
		<servlet-class>javax.faces.webapp.FacesServlet</servlet-class>
		<load-on-startup>1</load-on-startup>
	</servlet>
	<servlet>
		<servlet-name>uploadFile</servlet-name>
		<servlet-class>org.alfresco.web.app.servlet.UploadFileServlet</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>uploadContent</servlet-name>
		<servlet-class>org.alfresco.web.app.servlet.UploadContentServlet</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>downloadContent</servlet-name>
		<servlet-class>org.alfresco.web.app.servlet.DownloadContentServlet</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>downloadRawContent</servlet-name>
		<servlet-class>org.alfresco.web.app.servlet.DownloadRawContentServlet</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>guestDownloadContent</servlet-name>
		<servlet-class>org.alfresco.web.app.servlet.GuestDownloadContentServlet</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>guestTemplateContent</servlet-name>
		<servlet-class>org.alfresco.web.app.servlet.GuestTemplateContentServlet</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>externalAccess</servlet-name>
		<servlet-class>org.alfresco.web.app.servlet.ExternalAccessServlet</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>templateContent</servlet-name>
		<servlet-class>org.alfresco.web.app.servlet.TemplateContentServlet</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>commandServlet</servlet-name>
		<servlet-class>org.alfresco.web.app.servlet.CommandServlet</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>ajaxServlet</servlet-name>
		<servlet-class>org.alfresco.web.app.servlet.ajax.AjaxServlet</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>axis</servlet-name>
		<servlet-class>org.apache.axis.transport.http.AxisServlet</servlet-class>
		<load-on-startup>5</load-on-startup>
	</servlet>
	<servlet>
		<servlet-name>WebDAV</servlet-name>
		<servlet-class>org.alfresco.repo.webdav.WebDAVServlet</servlet-class>
		<init-param>
			<param-name>store</param-name>
			<param-value>workspace://SpacesStore</param-value>
		</init-param>
		<init-param>
			<param-name>rootPath</param-name>
			<param-value>/app:company_home</param-value>
		</init-param>
		<load-on-startup>5</load-on-startup>
	</servlet>
	<servlet>
		<servlet-name>apiServlet</servlet-name>
		<servlet-class>org.alfresco.web.scripts.WebScriptServlet</servlet-class>
		<init-param>
			<param-name>authenticator</param-name>
			<param-value>webscripts.authenticator.basic</param-value>
		</init-param>
	</servlet>
	<servlet>
		<servlet-name>wcapiServlet</servlet-name>
		<servlet-class>org.alfresco.web.scripts.WebScriptServlet</servlet-class>
		<init-param>
			<param-name>authenticator</param-name>
			<param-value>webscripts.authenticator.webclient</param-value>
		</init-param>
	</servlet>
	<servlet>
		<servlet-name>portalapiServlet</servlet-name>
		<servlet-class>org.alfresco.web.scripts.WebScriptServlet</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>proxyServlet</servlet-name>
		<servlet-class>org.alfresco.web.app.servlet.HTTPProxyServlet</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>workflowDefinitionImageServlet</servlet-name>
		<servlet-class>org.alfresco.web.app.servlet.WorkflowDefinitionImageServlet</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>JBPMDeployProcessServlet</servlet-name>
		<servlet-class>org.alfresco.web.app.servlet.JBPMDeployProcessServlet</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>AlfrescoClient</servlet-name>
		<servlet-class>com.liferay.portal.kernel.servlet.PortletServlet</servlet-class>
		<init-param>
			<param-name>portlet-class</param-name>
			<param-value>org.intalio.tempo.web.AlfrescoFacesPortlet</param-value>
		</init-param>
		<load-on-startup>0</load-on-startup>
	</servlet>
	<servlet-mapping>
		<servlet-name>Faces Servlet</servlet-name>
		<url-pattern>/faces/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>uploadFile</servlet-name>
		<url-pattern>/uploadFileServlet</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>uploadContent</servlet-name>
		<url-pattern>/upload/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>downloadContent</servlet-name>
		<url-pattern>/download/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>downloadContent</servlet-name>
		<url-pattern>/d/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>downloadRawContent</servlet-name>
		<url-pattern>/dr</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>guestDownloadContent</servlet-name>
		<url-pattern>/guestDownload/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>guestDownloadContent</servlet-name>
		<url-pattern>/gd/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>templateContent</servlet-name>
		<url-pattern>/template/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>templateContent</servlet-name>
		<url-pattern>/t/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>guestTemplateContent</servlet-name>
		<url-pattern>/guestTemplate/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>guestTemplateContent</servlet-name>
		<url-pattern>/gt/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>externalAccess</servlet-name>
		<url-pattern>/navigate/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>externalAccess</servlet-name>
		<url-pattern>/n/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>commandServlet</servlet-name>
		<url-pattern>/command/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>commandServlet</servlet-name>
		<url-pattern>/c/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>ajaxServlet</servlet-name>
		<url-pattern>/ajax/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>axis</servlet-name>
		<url-pattern>/api/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>WebDAV</servlet-name>
		<url-pattern>/webdav/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>apiServlet</servlet-name>
		<url-pattern>/service/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>apiServlet</servlet-name>
		<url-pattern>/s/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>wcapiServlet</servlet-name>
		<url-pattern>/wcservice/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>wcapiServlet</servlet-name>
		<url-pattern>/wcs/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>portalapiServlet</servlet-name>
		<url-pattern>/168service/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>portalapiServlet</servlet-name>
		<url-pattern>/168s/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>proxyServlet</servlet-name>
		<url-pattern>/proxy</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>JBPMDeployProcessServlet</servlet-name>
		<url-pattern>/jbpm/deployprocess</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>workflowDefinitionImageServlet</servlet-name>
		<url-pattern>/workflowdefinitionimage/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>AlfrescoClient</servlet-name>
		<url-pattern>/AlfrescoClient/*</url-pattern>
	</servlet-mapping>
	<session-config>
		<session-timeout>60</session-timeout>
	</session-config>
	<welcome-file-list>
		<welcome-file>index.jsp</welcome-file>
	</welcome-file-list>
	<error-page>
		<exception-type>java.lang.Exception</exception-type>
		<location>/jsp/error.jsp</location>
	</error-page>
	<taglib>
		<taglib-uri>http://java.sun.com/portlet_2_0</taglib-uri>
		<taglib-location>/WEB-INF/tld/liferay-portlet.tld</taglib-location>
	</taglib>
	<taglib>
		<taglib-uri>http://liferay.com/tld/portlet</taglib-uri>
		<taglib-location>/WEB-INF/tld/liferay-portlet-ext.tld</taglib-location>
	</taglib>
	<taglib>
		<taglib-uri>http://liferay.com/tld/security</taglib-uri>
		<taglib-location>/WEB-INF/tld/liferay-security.tld</taglib-location>
	</taglib>
	<taglib>
		<taglib-uri>http://liferay.com/tld/theme</taglib-uri>
		<taglib-location>/WEB-INF/tld/liferay-theme.tld</taglib-location>
	</taglib>
	<taglib>
		<taglib-uri>http://liferay.com/tld/ui</taglib-uri>
		<taglib-location>/WEB-INF/tld/liferay-ui.tld</taglib-location>
	</taglib>
	<taglib>
		<taglib-uri>http://liferay.com/tld/util</taglib-uri>
		<taglib-location>/WEB-INF/tld/liferay-util.tld</taglib-location>
	</taglib>
</web-app>