<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN" "http://java.sun.com/dtd/web-app_2_3.dtd">
<web-app>
    <display-name>Orbeon PresentationServer 3_6_0</display-name>
    <description>
                Orbeon PresentationServer is an open-source J2EE-based platform used to build
                XML-centric web applications with standard technologies like XForms, XSLT, and XML
                pipelines.
            </description>
    <!-- Initialize resource manager -->
    <context-param>
        <param-name>oxf.resources.factory</param-name>
        <param-value>org.orbeon.oxf.resources.PriorityResourceManagerFactory</param-value>
    </context-param>

    <!-- URL resource manager base -->
  <context-param>
      <param-name>oxf.resources.url.base</param-name>
      <param-value>http://localhost:8080/wds/</param-value>
  </context-param>

    <context-param>
        <param-name>oxf.resources.priority.1</param-name>
        <param-value>org.orbeon.oxf.resources.WebAppResourceManagerFactory</param-value>
    </context-param>
    <context-param>
        <param-name>oxf.resources.priority.1.oxf.resources.webapp.rootdir</param-name>
        <param-value>/WEB-INF/workflow</param-value>
    </context-param>
    <context-param>
        <param-name>oxf.resources.priority.2</param-name>
        <param-value>org.orbeon.oxf.resources.ClassLoaderResourceManagerFactory</param-value>
    </context-param>

    <context-param>
        <param-name>oxf.resources.priority.3</param-name>
        <param-value>org.orbeon.oxf.resources.URLResourceManagerFactory</param-value>
    </context-param>
    <!-- End flat file resource manager -->
    <!-- OXF Class Loader -->
    <context-param>
        <param-name>oxf.classloader.enable</param-name>
        <param-value>false</param-value>
    </context-param>
    <context-param>
        <param-name>oxf.classloader.ignore-packages</param-name>
        <param-value>java. javax. org.apache.log4j. org.xml. org.w3c.</param-value>
    </context-param>
    <!-- Set location of properties.xml (read by resource manager) -->
    <context-param>
        <param-name>oxf.properties</param-name>
        <param-value>oxf:/config/properties.xml</param-value>
    </context-param>
    <!-- Set XML Server configuration file -->
    <context-param>
        <param-name>oxf.xml-server.config</param-name>
        <param-value>oxf:/ops/xml-server/xml-server.xml</param-value>
    </context-param>
    <!-- Determine whether logging initialization must take place -->
    <context-param>
        <param-name>oxf.initialize-logging</param-name>
        <param-value>false</param-value>
    </context-param>
    <!-- Set context listener processors -->
    <!-- Uncomment this for the context listener processors -->
    <!--
    <context-param>
        <param-name>oxf.context-initialized-processor.name</param-name>
        <param-value>{http://www.orbeon.com/oxf/processors}pipeline</param-value>
    </context-param>
    <context-param>
        <param-name>oxf.context-initialized-processor.input.config</param-name>
        <param-value>oxf:/context/context-initialized.xpl</param-value>
    </context-param>
    <context-param>
        <param-name>oxf.context-destroyed-processor.name</param-name>
        <param-value>{http://www.orbeon.com/oxf/processors}pipeline</param-value>
    </context-param>
    <context-param>
        <param-name>oxf.context-destroyed-processor.input.config</param-name>
        <param-value>oxf:/context/context-destroyed.xpl</param-value>
    </context-param>-->
    <!-- End context listener processors -->
    <!-- Set session listener processors -->
    <!-- Uncomment this for the session listener processors -->
    <!--
    <context-param>
        <param-name>oxf.session-created-processor.name</param-name>
        <param-value>{http://www.orbeon.com/oxf/processors}pipeline</param-value>
    </context-param>
    <context-param>
        <param-name>oxf.session-created-processor.input.config</param-name>
        <param-value>oxf:/context/session-created.xpl</param-value>
    </context-param>
    <context-param>
        <param-name>oxf.session-destroyed-processor.name</param-name>
        <param-value>{http://www.orbeon.com/oxf/processors}pipeline</param-value>
    </context-param>
    <context-param>
        <param-name>oxf.session-destroyed-processor.input.config</param-name>
        <param-value>oxf:/context/session-destroyed.xpl</param-value>
    </context-param>-->
    <!-- End session listener processors -->
  
    <servlet>
        <servlet-name>ops-main-servlet</servlet-name>
        <servlet-class>org.orbeon.oxf.servlet.OPSServlet</servlet-class>
        <!-- Set main processor -->
        <init-param>
            <param-name>oxf.main-processor.name</param-name>
            <param-value>{http://www.orbeon.com/oxf/processors}page-flow</param-value>
        </init-param>
        <init-param>
            <param-name>oxf.main-processor.input.controller</param-name>
            <param-value>oxf:/page-flow.xml</param-value>
        </init-param>
        <!-- Set error processor -->
        <init-param>
            <param-name>oxf.error-processor.name</param-name>
            <param-value>{http://www.orbeon.com/oxf/processors}pipeline</param-value>
        </init-param>
        <init-param>
            <param-name>oxf.error-processor.input.config</param-name>
            <param-value>oxf:/config/error.xpl</param-value>
        </init-param>
        <!-- Set initialization listener -->
        <init-param>
            <param-name>oxf.servlet-initialized-processor.name</param-name>
            <param-value>{http://www.orbeon.com/oxf/processors}pipeline</param-value>
        </init-param>
        <init-param>
            <param-name>oxf.servlet-initialized-processor.input.config</param-name>
            <param-value>oxf:/context/servlet-initialized.xpl</param-value>
        </init-param>
        <!-- Set destruction listener -->
        <init-param>
            <param-name>oxf.servlet-destroyed-processor.name</param-name>
            <param-value>{http://www.orbeon.com/oxf/processors}pipeline</param-value>
        </init-param>
        <init-param>
            <param-name>oxf.servlet-destroyed-processor.input.config</param-name>
            <param-value>oxf:/context/servlet-destroyed.xpl</param-value>
        </init-param>
        <load-on-startup>1</load-on-startup>
    </servlet>
    <servlet>
        <servlet-name>ops-xforms-server-servlet</servlet-name>
        <servlet-class>org.orbeon.oxf.servlet.OPSServlet</servlet-class>
        <!-- Set main processor -->
        <init-param>
            <param-name>oxf.main-processor.name</param-name>
            <param-value>{http://www.orbeon.com/oxf/processors}pipeline</param-value>
        </init-param>
        <init-param>
            <param-name>oxf.main-processor.input.config</param-name>
            <param-value>oxf:/ops/xforms/xforms-server.xpl</param-value>
        </init-param>
        <!-- Set error processor -->
        <init-param>
            <param-name>oxf.error-processor.name</param-name>
            <param-value>{http://www.orbeon.com/oxf/processors}pipeline</param-value>
        </init-param>
        <init-param>
            <param-name>oxf.error-processor.input.config</param-name>
            <param-value>oxf:/ops/xforms/xforms-server-error.xpl</param-value>
        </init-param>
        <load-on-startup>1</load-on-startup>
    </servlet>
    <!--
    <servlet>
        <servlet-name>display-chart-servlet</servlet-name>
        <servlet-class>org.jfree.chart.servlet.DisplayChart</servlet-class>
        <load-on-startup>2</load-on-startup>
    </servlet>
    -->
    <servlet>
        <servlet-name>struts-servlet</servlet-name>
        <servlet-class>org.apache.struts.action.ActionServlet</servlet-class>
        <init-param>
            <param-name>config</param-name>
            <param-value>/WEB-INF/struts-config.xml</param-value>
        </init-param>
        <init-param>
            <param-name>config/examples/struts/module</param-name>
            <param-value>/WEB-INF/struts-module.xml</param-value>
        </init-param>
        <load-on-startup>3</load-on-startup>
    </servlet>
    <!-- Uncomment this for the SQL examples -->
    <!--
    <servlet>
        <servlet-name>hsqldb-servlet</servlet-name>
        <servlet-class>org.hsqldb.Servlet</servlet-class>
        <init-param>
            <param-name>hsqldb.server.database</param-name>
            <param-value>orbeondb</param-value>
        </init-param>
        <load-on-startup>4</load-on-startup>
    </servlet>-->
    <!-- End SQL examples -->
    <servlet-mapping>
        <servlet-name>ops-main-servlet</servlet-name>
        <url-pattern>/</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>ops-xforms-server-servlet</servlet-name>
        <url-pattern>/xforms-server</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>ops-xforms-server-servlet</servlet-name>
        <url-pattern>//xforms-server</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>struts-servlet</servlet-name>
        <url-pattern>/struts/*</url-pattern>
    </servlet-mapping>
    <!-- Uncomment this for the SQL examples -->
    <!--
    <servlet-mapping>
        <servlet-name>hsqldb-servlet</servlet-name>
        <url-pattern>/db</url-pattern>
    </servlet-mapping>-->
    <!-- End SQL examples -->
    <!--
    <servlet-mapping>
        <servlet-name>display-chart-servlet</servlet-name>
        <url-pattern>/chartDisplay</url-pattern>
    </servlet-mapping>
    -->
    <!-- Uncomment this for the SQL examples -->
    <!--
    <resource-ref>
        <description>DataSource</description>
        <res-ref-name>jdbc/db</res-ref-name>
        <res-type>javax.sql.DataSource</res-type>
        <res-auth>Container</res-auth>
    </resource-ref>-->
    <!-- End SQL examples -->
    <!-- Uncomment this for the authentication example -->
    <!--
    <security-constraint>
        <web-resource-collection>
            <web-resource-name>Administration</web-resource-name>
            <url-pattern>/examples-standalone/authentication</url-pattern>
        </web-resource-collection>
        <auth-constraint>
            <role-name>administrator</role-name>
        </auth-constraint>
    </security-constraint>
    <login-config>
        <auth-method>FORM</auth-method>
        <form-login-config>
            <form-login-page>/examples-standalone/authentication/login</form-login-page>
            <form-error-page>/examples-standalone/authentication/login-error</form-error-page>
        </form-login-config>
    </login-config>
    <security-role>
        <role-name>administrator</role-name>
    </security-role>-->
    <!-- End authentication example -->
</web-app>
